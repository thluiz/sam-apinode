<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.4" DspName="Microsoft.Data.Tools.Schema.Sql.SqlAzureV12DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="False" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="False" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="140" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="Database.dll" />
			<Metadata Name="FileName" Value="C:\VTGIT\JOSI\DATABASE\DATABASE\DATABASE\OBJ\DEBUG\DATABASE.DLL" />
			<Metadata Name="AssemblyName" Value="Database" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="C:\VTGit\josi\database\Database\Database\obj\Debug\Database.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiPaddingOn" Value="False" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="IsCursorDefaultScopeGlobal" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="CompatibilityMode" Value="140" />
			<Property Name="ServiceBrokerOption" Value="1" />
			<Property Name="IsAllowSnapshotIsolation" Value="True" />
			<Property Name="IsReadCommittedSnapshot" Value="True" />
			<Property Name="IsEncryptionOn" Value="True" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="TargetRecoveryTimePeriod" Value="120" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_incident].[closed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[schedule_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[month_day]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[number_of_incidents]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[confirmed_incidents]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((50))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_activity_type].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_activity_type].[close_group]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_activity_type].[obrigatory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template_step].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template_step].[need_due_date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template_step].[need_action]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template_step].[is_blocking_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template_step].[is_closing_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[location]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[location].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template].[automatically_generated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template].[is_task]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="35" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_template].[require_target]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="36" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_card_position].[hierarchical]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="37" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_card_position].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="38" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_history]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_history].[created_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="39" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user].[token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="40" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[role]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[role].[allowed_for_new_person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="41" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident_comment].[created_at]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="42" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident_comment].[archived]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="43" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_contact].[principal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="44" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_contact].[removed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="45" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[recurrence_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[recurrence_type].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="46" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="47" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="48" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[free_financial]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="49" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[free_scheduling]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="50" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[comunication_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="51" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="52" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="53" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="54" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="55" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="56" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="57" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[issues_level]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="58" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[has_birthday_this_month]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="59" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[updated_at]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="60" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="61" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="62" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="63" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_service_provider]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="64" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_associated_with_member]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="65" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person].[is_external_member]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="66" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type].[need_description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="67" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="68" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type].[automatically_generated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="69" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type].[need_value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="70" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[domain].[traditional]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="71" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((10))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[domain].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="72" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[domain].[program_id]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="73" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_comment].[created_at]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="74" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_comment].[pinned]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="75" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="76" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[url]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[url].[require_parameter]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="77" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[created_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="78" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="79" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="80" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[fund_value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="81" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[scheduled]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="82" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="83" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[updated_at]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="84" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[incident].[comment_count]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="85" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="86" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[need_due_date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="87" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[need_action]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="88" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[is_blocking_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="89" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[is_closing_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="90" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_step].[archived]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="91" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="92" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[obrigatory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="93" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="94" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="95" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="96" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_description_for_closing]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="97" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[show_hour_in_diary]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="98" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[automatically_generated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="99" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_start_hour_minute]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="100" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="101" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[enum_incident_type].[allowed_for_new_person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="102" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_commentary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card_commentary].[created_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="103" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="104" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[created_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="105" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[closed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="106" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[cancelled]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="107" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="108" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[blocked]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="109" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[card].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="110" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_participation_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_participation_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="111" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[month].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="112" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_incident].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="113" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[week].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="114" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_schedule].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="115" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[activity_sumary].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="116" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_relationship_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_relationship_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="117" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[members_sumary].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="118" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_relationship].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_relationship]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="119" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_activity_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="120" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[program].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="121" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[branch].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="122" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card_template_step].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="123" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[location].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[location]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="124" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card_template].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="125" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_card_position].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="126" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_person_scheduling_status].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="127" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_person_financial_status].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_financial_status]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="128" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[feature_area].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[feature_area]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="129" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card_history].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_history]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="130" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_card_history_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_card_history_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="131" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="132" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[role].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[role]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="133" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_comment].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="134" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_contact].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="135" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_contact_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_contact_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="136" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[login_provider].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[login_provider]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="137" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[recurrence_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[recurrence_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="138" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="139" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_person_schedule_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_person_schedule_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="140" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[domain].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="141" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="142" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[url].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[url]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="143" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_treatment].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="144" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="145" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_treatment_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_treatment_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="146" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card_step].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="147" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="148" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card_commentary].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_commentary]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="149" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user_login].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_login]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="150" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_card].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="151" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[card].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="152" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[activity_sumary]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[branch_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[activity_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[expected]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[unexpected]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[treated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="17" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[not_treated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="18" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[week_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[month_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[activity_sumary].[closed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="19" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="116" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddAlias]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    

 if(@principal = 1)
	update person_alias set principal = 0 where person_id = @person_id
    
 if(@kf_name = 1 and exists(select 1 from person_alias where kungfu_name = 1 and person_id = @person_id))    
  delete from person_alias where person_id = @person_id and kungfu_name = 1    
    
 insert into person_alias(person_id, alias, kungfu_name, ideograms, principal)    
 values(@person_id, @alias, @kf_name, @ideograms, @principal)    
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AddAlias].[@principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddAlias].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddAlias].[@kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddAlias].[@alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddAlias].[@ideograms]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddAlias].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddAlias].[@alias]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddAlias].[@kf_name]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddAlias].[@ideograms]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddAlias].[@principal]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="650" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[AddAlias](    &#xD;&#xA; @person_id int,    &#xD;&#xA; @alias nvarchar(150),    &#xD;&#xA; @kf_name bit = 0,  &#xD;&#xA; @ideograms nvarchar(100) = null,&#xD;&#xA; @principal bit = 0&#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[AddPersonRole]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[        
begin        
        
 if(exists(select 1 from person_role where role_id = @role_id and person_id = @person_id))        
  return;        
        
 insert into person_role (person_id, role_id)         
 values (@person_id, @role_id)         
        
 if(@role_id = 6)        
  update person set is_disciple = 1 where id = @person_id        
 else if (@role_id = 5)        
  update person set is_director = 1 where id = @person_id        
 else if (@role_id = 10)        
  update person set is_manager = 1 where id = @person_id        
 else if (@role_id = 1)        
 begin        
  delete from person_role where person_id = @person_id and role_id = 2        
  update person set is_active_member = 1 where id = @person_id        
 end        
 else if (@role_id = 2)        
 begin        
  delete from person_role where person_id = @person_id and role_id in (1, 4)  
  update person set is_active_member = 0, is_leaving = 0, is_inactive_member = 1, is_interested = 0 where id = @person_id        
 end   
 else if (@role_id = 2)        
 begin        
  delete from person_role where person_id = @person_id and role_id in (1, 4)  
  update person set is_active_member = 0, is_leaving = 0, is_inactive_member = 1, is_interested = 0 where id = @person_id        
 end       
 else if (@role_id = 3)        
  update person set is_leaving = 1 where id = @person_id        
 else if (@role_id = 4)        
  update person set is_interested = 1 where id = @person_id        
 else if (@role_id = 11)        
  update person set is_operator = 1 where id = @person_id
 else if (@role_id = 12)        
  update person set is_service_provider = 1 where id = @person_id  
 else if (@role_id = 13)        
  update person set is_associated_with_member = 1 where id = @person_id  
          
 exec CheckPeopleStatus @person_id    
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddPersonRole].[@role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddPersonRole].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddPersonRole].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddPersonRole].[@role_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1969" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[AddPersonRole](@person_id int, @role_id int)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[branch]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="25" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[abrev]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[initials]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="3" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[branch].[location_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="122" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[CancelIncidentStart]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[     
begin    
    
 update incident set started_on = null,   
 started_by = null   
 where id = @incident    
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[started_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[started_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CancelIncidentStart].[@incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CancelIncidentStart].[@incident]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="197" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure CancelIncidentStart(    &#xD;&#xA; @incident int  &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[CancelPersonSchedule]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin   
  
 update incident set cancelled = 1, cancelled_on = getdate(), cancelled_by = @cancelled_by  
 where person_schedule_id = @person_schedule_id  
	and closed = 0
	and treated = 0
	and cancelled = 0
	and [date] >= dbo.getCurrentDate()
  
 update person_schedule set active = 0,   
   cancelled = 1, cancelled_on = getdate(),   
   cancelled_by = @cancelled_by  
 where id = @person_schedule_id  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CancelPersonSchedule].[@cancelled_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[person_schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CancelPersonSchedule].[@person_schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CancelPersonSchedule].[@person_schedule_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CancelPersonSchedule].[@cancelled_by]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="543" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[CancelPersonSchedule](  &#xD;&#xA; @person_schedule_id int,  &#xD;&#xA; @cancelled_by int = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[title]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[due_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[created_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="105" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[feature_area_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[leader_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[current_step_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[card_template_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[parent_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[closed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="106" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[cancelled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="107" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[archived]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="108" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[last_action]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[location_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[blocked]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="109" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="110" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card].[abrev]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="152" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card_commentary]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_commentary].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_commentary].[card_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_commentary].[commentary]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_commentary].[created_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="103" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="149" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card_history]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[card_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[created_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="39" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[responsible_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[history_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_history].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="130" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="153" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="154" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="155" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card_step]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[card_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="86" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[need_due_date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="87" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[need_action]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="88" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[is_blocking_step]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="89" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[is_closing_step]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="90" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_step].[archived]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="91" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="147" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="156" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card_template]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[automatically_generated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="32" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="33" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="34" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[is_task]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="35" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template].[require_target]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="36" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="125" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[card_template_step]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[card_template_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[order]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="26" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[need_due_date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="27" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[need_action]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="28" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[is_blocking_step]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="29" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[card_template_step].[is_closing_step]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="30" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="123" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[CheckPeopleStatus]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                    
begin                    
                    
 declare @people_financial_status table (person_id int, [status] int)                    
                                
 -- people without scheduled payment                      
 insert into @people_financial_status(person_id, [status])                    
  select p.id, 1                    
  from person p                    
  where p.id = isnull(@person, p.id)                       
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)        
   and not exists(select 1 from person_incident pic                     
       join incident i on pic.incident_id = i.id                    
       where pic.person_id = p.id                     
        and i.incident_type = 24                 
		and i.cancelled = 0                   
        and i.date > getdate()                    
       )                     
        
                        
 -- people with old payments not closed and not treated                    
 insert into @people_financial_status(person_id, [status])                    
  select p.Id, 2                    
  from person p                    
  where p.id = isnull(@person, p.id)                    
	and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)        
	and exists(select 1 from person_incident pic                     
       join incident i on pic.incident_id = i.id                    
       where pic.person_id = p.id                     
        and i.incident_type = 24                    
        and i.closed = 0                    
        and i.treated = 0                 
		and i.cancelled = 0                 
        and i.date < getdate()                    
       )                    
                    
 update ps set [status] = 4                    
 from @people_financial_status ps                    
 where exists(select 1 from @people_financial_status ps2 where ps.person_id = ps2.person_id and [status] = 1)                    
   and exists(select 1 from @people_financial_status ps2 where ps.person_id = ps2.person_id and [status] = 2)                    
                    
 update p set financial_status = pfs.[status]                    
 from person p                     
  join @people_financial_status pfs on pfs.person_id = p.id                    
                    
 update p set financial_status = 0                    
 from person p                     
 where not exists(select 1 from @people_financial_status pfs where pfs.person_id = p.id)                   
 and p.id = isnull(@person, p.id)                       
                    
 -- SCHEDULING STATUS                    
                    
 declare @people_scheduling_status table (person_id int, [status] int)                    
                    
 -- people without scheduled formal moment                      
 insert into @people_scheduling_status(person_id, [status])                    
  select p.id, 1                    
  from person p                    
  where p.id = isnull(@person, p.id)     
	and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)                       
	and not exists(select 1 from person_incident pic                     
       join incident i on pic.incident_id = i.id                    
       where pic.person_id = p.id                     
        and i.incident_type = 1                
		and i.cancelled = 0                  
        and i.date > getdate()                    
       )                    
                    
                           
 -- people with absence in old formal moments and not treated                    
 insert into @people_scheduling_status(person_id, [status])                    
  select p.Id, 2                    
  from person p                    
  where p.id = isnull(@person, p.id)
	and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)                            
	and exists(select 1 from person_incident pic                     
       join incident i on pic.incident_id = i.id                    
       where pic.person_id = p.id                     
        and i.incident_type = 1                    
        and i.closed = 0                    
        and i.treated = 0                  
		and i.cancelled = 0                
        and i.date < getdate()                    
       )                                                   
        
 update ps set [status] = 4                  
 from @people_scheduling_status ps                 
 where exists(select 1 from @people_financial_status ps2 where ps.person_id = ps2.person_id and [status] = 1)                    
   and exists(select 1 from @people_financial_status ps2 where ps.person_id = ps2.person_id and [status] = 2)                    
                                        
 update p set scheduling_status = pfs.[status]                    
 from person p                     
  join @people_scheduling_status pfs on pfs.person_id = p.id                    
                                        
 update p set scheduling_status = 0                    
 from person p                     
 where not exists(select 1 from @people_scheduling_status pfs where pfs.person_id = p.id)                    
 and p.id = isnull(@person, p.id)                   
                    
 update p set financial_status = 0                 
 from person p                
 where free_financial = 1                
  and p.Id = isnull(@person, p.id)                
                
 update p set scheduling_status = 0                 
 from person p                
 where free_scheduling = 1                
  and p.Id = isnull(@person, p.id)                
                

  exec GetPersonMissingData @person_id = @person, @save_data = 1        
         
 update p set issues_level = 0        
 from person p        
 where p.Id = isnull(@person, p.id)        
 and (p.scheduling_status = 0 and p.data_status = 0 and p.financial_status = 0)        
 and issues_level != 0        
        
        
 update p set issues_level = 2        
 from person p        
 where p.Id = isnull(@person, p.id)        
 and (p.scheduling_status = 1 or p.data_status = 1 or p.financial_status =1)        
 and issues_level != 2        
      
 update p set p.has_birthday_this_month = 1  
 from person p  
 where DATEPART(MONTH, birth_date) = DATEPART(MONTH, dbo.getCurrentDateTime())  
 and p.Id = isnull(@person, p.id)        
 and p.has_birthday_this_month = 0     
  
 update p set p.has_birthday_this_month = 0  
 from person p  
 where DATEPART(MONTH, birth_date) != DATEPART(MONTH, dbo.getCurrentDateTime())  
 and p.Id = isnull(@person, p.id)        
 and p.has_birthday_this_month = 1     
   
        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[free_financial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[free_scheduling]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@save_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[issues_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[CheckPeopleStatus].[@people_financial_status]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[CheckPeopleStatus].[@people_financial_status].[status]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[CheckPeopleStatus].[@people_scheduling_status].[status]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CheckPeopleStatus].[@person]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="7015" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[CheckPeopleStatus](@person int = null)                    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[CloseIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
begin       
	declare @person int, @type int
      
	select @person = pic.person_id, @type = i.incident_type       
	from incident i      
		join  person_incident pic on pic.incident_id = i.id      
	where i.id = @id


	update i set i.closed = 1,     
		i.[close_text] = isnull(@close_description, ''),
		i.closed_on = dbo.getCurrentDateTime()   
	from incident i    
	where id = @id      
       	   
	if(@type in (1, 29))
	begin
		update person set person.scheduling_status = 0 
			where id = @person		

	end
	else if(@type = 24)
	begin
		update person set person.financial_status = 0 
			where id = @person		
	end
	
	update i set i.closed = 1 
		from incident i     
			join person_incident pic on pic.incident_id = i.id     
		where i.incident_type = @type    
			and i.treated = 1      
			and i.closed = 0
			and pic.person_id = @person	
           
	exec CheckPeopleStatus @person      
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloseIncident].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[close_text]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloseIncident].[@close_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CloseIncident].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[CloseIncident].[@close_description]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1046" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[CloseIncident](@id int, @close_description varchar(max) = null)      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ConsolidateActivitySumary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
begin       
      
 set @date = isnull(@date, cast(dbo.getCurrentDateTime() as date))        
    
 /********************************      
 CRIA OS REGISTROS BÁSICOS PARA ATUALIZAR NA SEQUENCIA      
 *********************************/         
      
 insert into activity_sumary([date], branch_id, activity_type)        
  select @date, b.id, eat.id      
  from enum_activity_type eat, branch b      
  where        
  b.id = isnull(b.id, @branch)          
  and b.active = 1        
  and not exists (        
   select 1 from activity_sumary s        
   where s.branch_id = isnull(b.id, @branch)           
    and s.[date] = @date        
    and s.activity_type = eat.id       
  )        
      
      
 /********************************      
 ATUALIZA ATIVIDADES COM CONTROLE SIMPLES (MPAs, Pagamentos/recebimentos, reuniões...)      
 *********************************/       
 update acs set       
  acs.expected = total.expected,      
  acs.not_treated = total.not_treated,      
  acs.treated = total.treated,      
  acs.unexpected = total.unexpected,      
  acs.closed = total.closed      
 from activity_sumary acs      
 join (      
  select activity_type, branch_id,       
   sum(expected) expected, sum(unexpected) unexpected, sum(closed) closed, sum(not_treated) not_treated, sum(treated) treated      
  from (      
	-- expected
    select eit.activity_type, i.branch_id, count(1) expected, 0 unexpected, 0 closed, 0 not_treated, 0 treated       
    from enum_incident_type eit      
     join incident i on i.incident_type = eit.id      
    where eit.activity_type is not null      
     and cast(i.date as date) = @date    
  and i.branch_id = isnull(@branch, i.branch_id)    
     and scheduled = 1      
     and cancelled = 0      
    group by eit.activity_type, branch_id       
   union all 
	-- unexpected     
    select eit.activity_type, i.branch_id, 0 expected, count(1) unexpected, 0 closed, 0 not_treated, 0 treated       
    from enum_incident_type eit      
     join incident i on i.incident_type = eit.id      
    where eit.activity_type is not null      
     and cast(i.date as date) = @date  
  and i.branch_id = isnull(@branch, i.branch_id)      
     and scheduled = 0      
     and cancelled = 0      
    group by eit.activity_type, branch_id      
   union all         
	-- closed
    select eit.activity_type, i.branch_id, 0 expected, 0 unexpected, count(1) closed, 0 not_treated, 0 treated       
    from enum_incident_type eit      
     join incident i on i.incident_type = eit.id      
    where eit.activity_type is not null      
     and cast(i.date as date) = @date      
	 and i.branch_id = isnull(@branch, i.branch_id)  
     and scheduled = 1      
     and closed = 1    
	 and treated = 0  
     and cancelled = 0      
    group by eit.activity_type, branch_id      
   union all         
    select eit.activity_type, i.branch_id, 0 expected, 0 unexpected, 0 closed, count(1) not_treated, 0 treated       
    from enum_incident_type eit      
     join incident i on i.incident_type = eit.id      
    where eit.activity_type is not null      
		and cast(i.date as date) = @date      
		and i.branch_id = isnull(@branch, i.branch_id)  
		and scheduled = 1      
		and closed = 0      
		and cancelled = 0      
		and treated = 0
		and [date] <= dbo.getCurrentDateTime()      
    group by eit.activity_type, branch_id      
   union all         
    select eit.activity_type, i.branch_id, 0 expected, 0 unexpected, 0 closed, 0 not_treated, count(1) treated       
    from enum_incident_type eit       join incident i on i.incident_type = eit.id      
    where eit.activity_type is not null      
     and cast(i.date as date) = @date    
  and i.branch_id = isnull(@branch, i.branch_id)    
     and scheduled = 1      
     and treated = 1      
     and cancelled = 0      
    group by eit.activity_type, branch_id      
  ) t      
  group by t.activity_type, t.branch_id       
 ) total on total.branch_id = acs.branch_id      
   and total.activity_type = acs.activity_type      
 where     
 acs.[date] = @date    
 and acs.branch_id = isnull(@branch, acs.branch_id)  
 and (acs.expected != total.expected       
   or acs.not_treated != total.not_treated      
   or acs.treated != total.treated      
   or acs.unexpected != total.unexpected      
   or acs.closed != total.closed)    
       
       
      
      
 /********************************      
 ATUALIZA OS CONTATOS      
 *********************************/       
      
 /********************************      
 ATUALIZA AS MATRICULAS      
 *********************************/       
      
 /********************************      
 ATUALIZA AS REUNIÕES      
 *********************************/       
       
      
 /********************************      
 CONSOLIDAÇÕES MENSAIS/SEMANAIS      
 *********************************/        
 exec ConsolidateWeeklyActivitySumary @branch, @date      
      
 exec ConsolidateMonthlyActivitySumary @branch, @date       
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumary].[@date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[scheduled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateWeeklyActivitySumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMonthlyActivitySumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateActivitySumary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateActivitySumary].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5279" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure ConsolidateActivitySumary      &#xD;&#xA; @branch int = null,      &#xD;&#xA; @date date = null      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ConsolidateActivitySumaryByPeriod]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	declare @date date = @start

	while(@date <= @end)
	begin
		exec ConsolidateActivitySumary @date = @date
		set @date = dateadd(day, 1, @date)
	end

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumaryByPeriod].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumaryByPeriod].[@end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateActivitySumary].[@date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateActivitySumaryByPeriod].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateActivitySumaryByPeriod].[@end]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="253" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure ConsolidateActivitySumaryByPeriod(&#xD;&#xA;&#x9;@start date,&#xD;&#xA;&#x9;@end date&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ConsolidateMembersSumary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[       
begin    
     
 if(@start_date is null)       
 set @start_date = dbo.getCurrentDate()    


 declare @month int = (select id from [month] where [start] <= @start_date and [end] >= @start_date)    
 declare @week int = (select id from [week] where [start] <= @start_date and [end] >= @start_date)    
      
 insert into members_sumary([date], branch_id, program_id, people,       
 financial_issues, scheduling_issues, comunication_issues)      
  select @start_date, b.id, p.id, 0, 0, 0, 0      
  from branch b, program p      
  where      
   b.id = isnull(b.id, @branch)       
   and p.id = isnull(p.id, @program)       
   and b.active = 1      
   and not exists (      
    select 1 from members_sumary m      
    where m.branch_id = isnull(b.id, @branch)      
     and m.program_id = isnull(p.id, @program)      
     and m.[date] >= @start_date      
   )      
    
 insert into members_sumary([month_id], branch_id, program_id, people,       
 financial_issues, scheduling_issues, comunication_issues)      
  select @month, b.id, p.id, 0, 0, 0, 0      
  from branch b, program p      
  where      
   b.id = isnull(b.id, @branch)       
   and p.id = isnull(p.id, @program)       
   and b.active = 1      
   and not exists (      
    select 1 from members_sumary m      
    where m.branch_id = isnull(b.id, @branch)      
     and m.program_id = isnull(p.id, @program)      
     and m.month_id >= @month    
   )      
      
  insert into members_sumary([week_id], branch_id, program_id, people,       
 financial_issues, scheduling_issues, comunication_issues)      
  select @week, b.id, p.id, 0, 0, 0, 0      
  from branch b, program p      
  where      
   b.id = isnull(b.id, @branch)       
   and p.id = isnull(p.id, @program)       
   and b.active = 1      
   and not exists (      
    select 1 from members_sumary m      
    where m.branch_id = isnull(b.id, @branch)      
     and m.program_id = isnull(p.id, @program)      
     and m.week_id = @week    
   )      
    
      
 /*update ms set ms.people = t.people,       
  ms.comunication_issues = t.comunication,       
  ms.financial_issues = t.financial,      
  ms.scheduling_issues = t.scheduling */      
        
 update ms set ms.people = t.people,       
   ms.comunication_issues = t.comunication,       
   ms.financial_issues = t.financial,      
   ms.scheduling_issues = t.scheduling      
 from members_sumary ms      
  join (      
    select pp.id program_id, b.id branch_id,        
     (select count(1) from person p (nolock)         
     where p.program_id = pp.id and p.branch_id = b.id) people,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and financial_status > 0 and financial_status != 3 and free_financial = 0) financial,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id        
   and scheduling_status > 0 and scheduling_status != 3 and free_scheduling = 0) scheduling,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and comunication_status > 0 and comunication_status != 3) comunication        
    from program pp, branch b      
    where pp.id = isnull(@program, pp.id)            
    and b.id = isnull(@branch, b.id)      
  ) t on t.program_id = ms.program_id        
   and t.branch_id = ms.branch_id            
 where ms.branch_id = isnull(@branch, ms.branch_id)      
  and ms.program_id = isnull(@program, ms.program_id)      
  and ms.[date] >= @start_date         
  and (      
   ms.people != t.people       
   or ms.comunication_issues != t.comunication       
   or ms.financial_issues != t.financial      
   or ms.scheduling_issues != t.scheduling        
  )      
    
  update ms set ms.people = t.people,       
   ms.comunication_issues = t.comunication,       
 ms.financial_issues = t.financial,      
   ms.scheduling_issues = t.scheduling      
 from members_sumary ms      
  join (      
    select pp.id program_id, b.id branch_id,        
     (select count(1) from person p (nolock)         
     where p.program_id = pp.id and p.branch_id = b.id) people,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and financial_status > 0 and financial_status != 3 and free_financial = 0) financial,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id        
   and scheduling_status > 0 and scheduling_status != 3 and free_scheduling = 0) scheduling,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and comunication_status > 0 and comunication_status != 3) comunication        
    from program pp, branch b      
    where pp.id = isnull(@program, pp.id)            
    and b.id = isnull(@branch, b.id)      
  ) t on t.program_id = ms.program_id        
   and t.branch_id = ms.branch_id            
 where ms.branch_id = isnull(@branch, ms.branch_id)      
  and ms.program_id = isnull(@program, ms.program_id)      
  and ms.month_id = @month    
  and (      
   ms.people != t.people       
   or ms.comunication_issues != t.comunication       
   or ms.financial_issues != t.financial      
   or ms.scheduling_issues != t.scheduling        
  )        
    

  update ms set ms.people = t.people,       
   ms.comunication_issues = t.comunication,       
   ms.financial_issues = t.financial,      
   ms.scheduling_issues = t.scheduling      
 from members_sumary ms      
  join (      
    select pp.id program_id, b.id branch_id,        
     (select count(1) from person p (nolock)         
     where p.program_id = pp.id and p.branch_id = b.id) people,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and financial_status > 0 and financial_status != 3 and free_financial = 0) financial,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id        
   and scheduling_status > 0 and scheduling_status != 3 and free_scheduling = 0) scheduling,        
     (select count(1)         
     from person p (nolock) where p.program_id = pp.id and p.branch_id = b.id      
   and comunication_status > 0 and comunication_status != 3) comunication        
    from program pp, branch b      
    where pp.id = isnull(@program, pp.id)            
    and b.id = isnull(@branch, b.id)      
  ) t on t.program_id = ms.program_id        
   and t.branch_id = ms.branch_id            
 where ms.branch_id = isnull(@branch, ms.branch_id)      
  and ms.program_id = isnull(@program, ms.program_id)      
  and ms.week_id >= @week    
  and (      
   ms.people != t.people       
   or ms.comunication_issues != t.comunication       
   or ms.financial_issues != t.financial      
   or ms.scheduling_issues != t.scheduling        
  )        
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMembersSumary].[@start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[financial_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[scheduling_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[comunication_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMembersSumary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMembersSumary].[@program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[free_financial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[free_scheduling]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[comunication_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[financial_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[scheduling_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[week_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateMembersSumary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateMembersSumary].[@program]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateMembersSumary].[@start_date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="7414" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[ConsolidateMembersSumary]      &#xD;&#xA; @branch int = null,      &#xD;&#xA; @program int = null,    &#xD;&#xA; @start_date date = null       &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ConsolidateMonthlyActivitySumary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[ begin  
 if(@date is null)   
  set @date = getdate()  
  
 declare @month int = (select top 1 id from [month] where [start] <= @date and [end] >= @date)  
  
 insert into activity_sumary([month_id], branch_id, activity_type)    
 select @month, b.id, eat.id  
 from enum_activity_type eat, branch b  
 where    
 b.id = isnull(b.id, @branch)      
 and b.active = 1    
 and not exists (    
  select 1 from activity_sumary s    
  where s.branch_id = isnull(b.id, @branch)       
   and s.[month_id] = @month    
   and s.activity_type = eat.id   
 )    
  
 update acs set   
  acs.expected = total.expected,  
  acs.not_treated = total.not_treated,  
  acs.treated = total.treated,  
  acs.unexpected = total.unexpected,  
   acs.closed = total.closed  
 from activity_sumary acs  
 join (  
  select m.id, acs.branch_id, acs.activity_type,   
   sum(expected) expected, sum(unexpected) unexpected, sum(treated) treated, sum(not_treated) not_treated, sum(closed) closed  
  from [month] m   
   join activity_sumary acs on m.start <= acs.[date] and m.[end] >= acs.[date]  
  where m.id = @month  
   and acs.branch_id = isnull(@branch, acs.branch_id)  
  group by m.id, acs.branch_id, acs.activity_type  
 ) total on total.branch_id = acs.branch_id  
   and total.activity_type = acs.activity_type     
 where   
  acs.month_id = @month  
  and acs.branch_id = isnull(@branch, acs.branch_id)  
  and (acs.expected != total.expected   
   or acs.not_treated != total.not_treated  
   or acs.treated != total.treated  
   or acs.unexpected != total.unexpected  
   or acs.closed != total.closed)  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMonthlyActivitySumary].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateMonthlyActivitySumary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[month_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateMonthlyActivitySumary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateMonthlyActivitySumary].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1759" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure ConsolidateMonthlyActivitySumary(  &#xD;&#xA; @branch int = null,  &#xD;&#xA; @date date = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ConsolidateWeeklyActivitySumary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[ begin  
  
 if(@date is null)   
  set @date = getdate()  
    
 declare @week int = (select top 1 id from [week] where [start] <= @date and [end] >= @date)  
  
 insert into activity_sumary([week_id], branch_id, activity_type)    
  select @week, b.id, eat.id  
  from enum_activity_type eat, branch b  
  where    
  b.id = isnull(b.id, @branch)      
  and b.active = 1    
  and not exists (    
   select 1 from activity_sumary s    
   where s.branch_id = isnull(b.id, @branch)       
    and s.[week_id] = @week    
    and s.activity_type = eat.id   
  )    
  
  
 update acs set   
  acs.expected = total.expected,  
  acs.not_treated = total.not_treated,  
  acs.treated = total.treated,  
  acs.unexpected = total.unexpected,  
  acs.closed = total.closed  
 from activity_sumary acs  
 join (  
  select w.id, acs.branch_id, acs.activity_type,   
   sum(expected) expected, sum(unexpected) unexpected, sum(treated) treated, sum(not_treated) not_treated, sum(closed) closed  
  from [week] w   
   join activity_sumary acs on w.start <= acs.[date] and w.[end] >= acs.[date]  
  where w.id = @week  
   and acs.branch_id = isnull(@branch, acs.branch_id)  
  group by w.id, acs.branch_id, acs.activity_type  
 ) total on total.branch_id = acs.branch_id  
   and total.activity_type = acs.activity_type     
 where   
  acs.week_id = @week  
  and acs.branch_id = isnull(@branch, acs.branch_id)  
  and (acs.expected != total.expected   
   or acs.not_treated != total.not_treated  
   or acs.treated != total.treated  
   or acs.unexpected != total.unexpected  
   or acs.closed != total.closed)  
  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateWeeklyActivitySumary].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsolidateWeeklyActivitySumary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[week_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateWeeklyActivitySumary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ConsolidateWeeklyActivitySumary].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1772" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure ConsolidateWeeklyActivitySumary(  &#xD;&#xA; @branch int = null,  &#xD;&#xA; @date date = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[DateRange]">
			<Property Name="ReturnTableVariable" Value="@SelectedRange" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DateRange].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange].[@Increment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange].[CTE1].[cteRange].[DateRange]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange].[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DateRange].[date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DateRange].[CTE1].[cteRange]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DateRange].[CTE1].[cteRange].[DateRange]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DateRange].[@StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[ 
BEGIN
      ;WITH cteRange (DateRange) AS (
            SELECT @StartDate
            UNION ALL
            SELECT 
                  CASE
                        WHEN @Increment = 'd' THEN DATEADD(dd, 1, DateRange)
                        WHEN @Increment = 'w' THEN DATEADD(ww, 1, DateRange)
                        WHEN @Increment = 'm' THEN DATEADD(mm, 1, DateRange)
                  END
            FROM cteRange
            WHERE DateRange <= 
                  CASE
                        WHEN @Increment = 'd' THEN DATEADD(dd, -1, @EndDate)
                        WHEN @Increment = 'w' THEN DATEADD(ww, -1, @EndDate)
                        WHEN @Increment = 'm' THEN DATEADD(mm, -1, @EndDate)
                  END)
          
      INSERT INTO @SelectedRange ([date])
      SELECT DateRange
      FROM cteRange
      OPTION (MAXRECURSION 3660);
      RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1120" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[DateRange]&#xD;&#xA;(     &#xD;&#xA;      @Increment              CHAR(1),&#xD;&#xA;      @StartDate              DATETIME,&#xD;&#xA;      @EndDate                DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS  &#xD;&#xA;@SelectedRange    TABLE &#xD;&#xA;([date] DATE)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DateRange].[@Increment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DateRange].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DateRange].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DeleteTestData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin   
 declare @name varchar(150) = 'teste'  
  
 delete pic   
 from person_incident pic   
  join person p on pic.person_id = p.id  
 where [name] like '%' + @name + '%'  
  
 delete pr  
  from person_role pr  
  join person p on pr.person_id = p.id  
  where [name] like '%' + @name + '%'  

 delete pc  
  from person_comment pc  
  join person p on pc.person_id = p.id  
  where [name] like '%' + @name + '%'  
  
  
 delete pc  
  from person_contact pc  
  join person p on pc.person_id = p.id  
  where [name] like '%' + @name + '%'

 delete from person where [name] like '%' + @name + '%'  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="685" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[DeleteTestData]  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[domain]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[traditional]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="71" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[abrev]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="72" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[long_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[program_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="73" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[extra_long_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="350" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[domain].[ideograms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="141" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_activity_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_activity_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_activity_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_activity_type].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="20" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_activity_type].[close_group]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="21" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_activity_type].[obrigatory]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="22" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="120" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_card_history_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_card_history_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_card_history_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="131" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_contact_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[icon]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[placeholder]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[helper_text]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_contact_type].[base_url]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="136" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_incident_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[abrev]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[parent_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[need_description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="92" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[obrigatory]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="93" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[need_value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="94" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="95" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="96" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[need_description_for_closing]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="97" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[activity_type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[show_hour_in_diary]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="98" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[automatically_generated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="99" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[need_start_hour_minute]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="100" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[need_to_be_started]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="101" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_incident_type].[allowed_for_new_person]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="102" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="148" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_participation_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_participation_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_participation_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_participation_type].[abrev]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="111" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_person_financial_status]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_financial_status].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_financial_status].[description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="128" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_person_schedule_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[need_description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="67" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="68" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[abrev]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[automatically_generated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="69" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[need_value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="70" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_schedule_type].[incident_type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="140" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_person_scheduling_status]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_scheduling_status].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_person_scheduling_status].[description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="127" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_relationship_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_relationship_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_relationship_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="117" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[enum_treatment_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_treatment_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[enum_treatment_type].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="146" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[feature_area]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[feature_area].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[feature_area].[name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="129" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[findEndDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[number_of_incidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[findEndDate].[@schedule_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin 
	declare @end_date date,
			@start_date date,
			@number_of_events int,
			@recurrence_type int,
			@current_date date

	select @end_date = end_date, @start_date = [start_date], 
			@number_of_events = number_of_incidents,
			@recurrence_type = recurrence_type
	from person_schedule where id = @schedule_id

	if(@end_date is not null)
		return @end_date

	if(@recurrence_type = 2)
	begin 
		set @end_date = DATEADD(week, @number_of_events - 1, @start_date)
	end
	else if(@recurrence_type = 3)
	begin 
		set @end_date = DATEADD(week, 2*(@number_of_events - 1), @start_date)
	end
	else if(@recurrence_type = 4)
	begin 
		set @end_date = DATEADD(month, @number_of_events - 1, @start_date)
	end
	
	return @end_date

end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="817" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE function findEndDate(@schedule_id int)&#xD;&#xA;returns date&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[findEndDate].[@schedule_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[findNumberOfEvents]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[number_of_incidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[findNumberOfEvents].[@schedule_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin   
 declare @end_date date,  
   @start_date date,  
   @number_of_events int,  
   @recurrence_type int,  
   @current_date date  
  
 select @end_date = end_date, @start_date = [start_date],   
   @number_of_events = number_of_incidents,  
   @recurrence_type = recurrence_type  
 from person_schedule where id = @schedule_id  
  
 if(@number_of_events is not null)  
  return @number_of_events  
  
 set @number_of_events = 0

 while(@current_date < @end_date)
 begin
	set @number_of_events = @number_of_events + 1
	 if(@recurrence_type = 2)  
	 begin   
	  set @current_date = DATEADD(week, 1, @current_date)  
	 end  
	 else if(@recurrence_type = 3)  
	 begin   
	  set @current_date = DATEADD(week, 2, @current_date)  
	 end  
	 else if(@recurrence_type = 4)  
	 begin   
	  set @current_date = DATEADD(month, 1, @current_date)  
	 end  
 end
 
   
 return @number_of_events  
  
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1009" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE function findNumberOfEvents(@schedule_id int)  &#xD;&#xA;returns int  &#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[findNumberOfEvents].[@schedule_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_card_history_card]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[card_history].[card_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_history]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="153" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_card_history_type]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[card_history].[history_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_history]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[enum_card_history_type].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[enum_card_history_type]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="154" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_card_history_user]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[card_history].[responsible_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_history]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="155" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_card_step_card]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[card_step].[card_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="156" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_incident_branch]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="157" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_incident_card]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident].[card_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="158" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_incident_comment_incident]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="159" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_incident_responsible]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="160" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_incident_treatment_incident]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="161" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_incident_treatment_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[incident_treatment].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="162" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_members_sumary_month]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[members_sumary].[month_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[month].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="163" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_members_sumary_week]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[members_sumary].[week_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="164" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Person_Branch]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="165" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_person_comment_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="166" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_person_comment_responsible]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_comment].[responsible_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="167" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_person_contact_contact_type]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_contact].[contact_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[enum_contact_type].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[enum_contact_type]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="168" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_person_contact_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="169" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Person_Domain]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="170" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_person_family]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person].[family_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="171" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_person_incident_incident]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="172" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_person_incident_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="173" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_person_program]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="174" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_person_role_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="175" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_person_role_role]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[role].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[role]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="176" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_user_login_provider]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[user].[login_provider_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[login_provider].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[login_provider]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="177" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_user_person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[user].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="178" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_User_user_login]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[user_login].[user_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_login]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[user].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="179" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GenerateMonthlyIncidents]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[        
begin         
         
 declare @end_date date, @current_date datetime, @recurrence_type int,         
  @person_id int, @branch_id int, @program_id int,        
  @value decimal(12, 2), @incident_type int, @schedule_type int,    
  @start_hour int, @start_minute int,    
  @incident_id int        
        
 select @current_date = [start_date], @end_date = end_date,        
  @recurrence_type = recurrence_type,        
  @person_id = person_id, @branch_id = ps.branch_id,        
  @program_id = p.program_id, @value = ps.[value],        
  @schedule_type = ps.schedule_type,       
  @start_hour = isnull(ps.start_hour, 0), @start_minute = isnull(ps.start_minute, 0),     
  @incident_type = eit.id  
 from person_schedule ps        
  join person p on p.id = ps.person_id        
  join enum_incident_type eit on eit.id = ps.incident_type        
  left join program prg on prg.id = p.program_id        
 where ps.id = @schedule_id         
         
 if(@recurrence_type in (4))         
 begin        
  while(@current_date <= @end_date)        
  begin           
   insert into incident(        
    created_on, responsible_id, incident_type,     
 [date],         
    branch_id, [value], person_schedule_id, scheduled         
   ) values (        
    getdate(), 11, @incident_type,     
 dateadd(hour, @start_hour, dateadd(minute, @start_minute, @current_date)),         
    @branch_id, @value, @schedule_id, 1        
   )        
           
   set @incident_id = @@IDENTITY        
        
   insert into person_incident(person_id, incident_id, participation_type)        
   values (@person_id, @incident_id, 1)        
           
   set @current_date = dateadd(month, 1, @current_date)           
  end        
 end        
        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[schedule_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateMonthlyIncidents].[@schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[created_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[person_schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[scheduled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GenerateMonthlyIncidents].[@schedule_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1895" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GenerateMonthlyIncidents        &#xD;&#xA;(@schedule_id int)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GenerateWeeklyIncidents]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
begin       
       
 declare @end_date date, @current_date datetime, @recurrence_type int,       
  @person_id int, @branch_id int, @program_id int,      
  @value decimal(12, 2), @incident_type int, @schedule_type int,  
  @start_hour int, @start_minute int,  
  @incident_id int      
      
 select @current_date = [start_date], @end_date = end_date,      
  @recurrence_type = recurrence_type,      
  @person_id = person_id, @branch_id = ps.branch_id,      
  @program_id = p.program_id, @value = ps.[value],      
  @schedule_type = ps.schedule_type,     
  @start_hour = isnull(ps.start_hour, 0), @start_minute = isnull(ps.start_minute, 0),   
  @incident_type = eit.id
 from person_schedule ps      
  join person p on p.id = ps.person_id      
  join enum_incident_type eit on eit.id = ps.incident_type      
  left join program prg on prg.id = p.program_id      
 where ps.id = @schedule_id       
       
 if(@recurrence_type in (2, 3))       
 begin      
  while(@current_date <= @end_date)      
  begin         
   insert into incident(      
    created_on, responsible_id, incident_type,   
 [date],       
    branch_id, [value], person_schedule_id, scheduled       
   ) values (      
    getdate(), 11, @incident_type,   
 dateadd(hour, @start_hour, dateadd(minute, @start_minute, @current_date)),       
    @branch_id, @value, @schedule_id, 1      
   )      
         
   set @incident_id = @@IDENTITY      
      
   insert into person_incident(person_id, incident_id, participation_type)      
   values (@person_id, @incident_id, 1)      
         
   set @current_date = dateadd(week, (@recurrence_type - 1), @current_date)         
  end      
 end      
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[schedule_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateWeeklyIncidents].[@schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[created_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[person_schedule_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[scheduled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GenerateWeeklyIncidents].[@schedule_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1823" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GenerateWeeklyIncidents      &#xD;&#xA;(@schedule_id int)      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetAbreviation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAbreviation].[@string]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 declare @abrev varchar(max) = (SELECT (SELECT LEFT(Item,1)  
          FROM dbo.Split(@string, ' ')           
        FOR XML PATH(''),TYPE).value('.','varchar(max)'))  
  
 return @abrev  
  
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="8" />
							<Property Name="Length" Value="311" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="  &#xD;&#xA;  &#xD;&#xA;CREATE function GetAbreviation(@string varchar(max))  &#xD;&#xA;returns varchar(max)  &#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAbreviation].[@string]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAgenda]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                                                                                      
begin          
-- declare @branch int, @display_modifier int = 0          
                          
 if(@date is null)        
 set @date = dbo.getCurrentDate()        
                          
 if(not exists(
	 select 1
	  from vwIncident i (nolock)            
	 where i.cancelled = 0          
	  and i.branch_id = ISNULL(@branch, i.branch_id)          
	  and i.[date] = @date          
	  and i.need_start_hour_minute = 1)) 
 begin
	select cast(1 as bit) empty
	for json path
	return 
 end						  
						                                                                                                                                        
 select DATEPART(HOUR, i.full_date) schedule_group,          
  (select *,    (select     
      p2.id,      
      p2.scheduling_status, p2.scheduling_description,         
      p2.comunication_status, p2.comunication_description,        
      p2.financial_status, p2.financial_description,        
      p2.data_status, p2.data_status_description        
      from vwPerson p2 where p2.id = i2.person_id         
      for json path) person_data                
   from vwIncident i2 (nolock)            
   where i2.cancelled = 0          
    and i2.branch_id = ISNULL(@branch, i2.branch_id)          
    and i2.[date] = @date       
 and need_start_hour_minute = 1       
    and DATEPART(HOUR, i2.full_date) = DATEPART(HOUR, i.full_date)    
   order by DATEPART(HOUR, i2.full_date),    
  case when i2.[type] = 36 then 0 else 1 end,          
     i2.full_date, isnull(i2.admission_date, dateadd(year, 1, dbo.getCurrentDate())), i2.[person]          
   for json path          
  ) incidents           
 from vwIncident i (nolock)            
 where i.cancelled = 0          
  and i.branch_id = ISNULL(@branch, i.branch_id)          
  and i.[date] = @date          
  and i.need_start_hour_minute = 1        
 group by DATEPART(HOUR, i.full_date)    
 order by DATEPART(HOUR, i.full_date)    
 for json path                                                                                  
          
          
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetAgenda].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAgenda].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[need_start_hour_minute]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[full_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[need_start_hour_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[full_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[full_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[need_start_hour_minute]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAgenda].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAgenda].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="54" />
				<Property Name="Length" Value="2614" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="                                                    &#xD;&#xA;CREATE procedure [dbo].[GetAgenda](                                                                                                      &#xD;&#xA; @branch int = null,                                                                &#xD;&#xA; @date date = null        &#xD;&#xA;)                                                                                      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetBranches]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select * 
	from branch b
	where b.active = ISNULL(@active, b.active) 
	for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetBranches].[@active]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetBranches].[@active]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="160" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetBranches(&#xD;&#xA;&#x9;@active bit = 1&#xD;&#xA;)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCommentsAboutPerson]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 if(not exists(select 1 from person_comment pc where pc.person_id = @person_id and archived = 0))  
 begin  
  select cast(1 as bit) empty for json path  
  return  
 end  
  
 select pc.id, pc.comment, pc.pinned, pc.responsible_id, pc.created_at,   
  CONVERT (VARCHAR, pc.created_at, 103) created_date_br,  
  convert(char(5), pc.created_at, 108) created_hour_br  
 from person_comment pc  
 where pc.person_id = @person_id  
 and (@show_archived = 1 or archived = 0)
 ORDER BY pc.pinned, pc.created_at  
 OFFSET ((@page - 1) * @comments_per_page) ROWS  
 FETCH NEXT @comments_per_page ROWS ONLY  
 for json path  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCommentsAboutPerson].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[pinned]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[created_at]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCommentsAboutPerson].[@show_archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCommentsAboutPerson].[@page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCommentsAboutPerson].[@comments_per_page]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCommentsAboutPerson].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCommentsAboutPerson].[@comments_per_page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[5]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCommentsAboutPerson].[@page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCommentsAboutPerson].[@show_archived]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="814" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[GetCommentsAboutPerson](  &#xD;&#xA; @person_id int,  &#xD;&#xA; @comments_per_page int = 5,  &#xD;&#xA; @page int = 1,  &#xD;&#xA; @show_archived bit = 0  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetContactTypes]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select * 
	from enum_contact_type
	for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[enum_contact_type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="105" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetContactTypes&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCurrentActivities]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  

if(not exists(
	select top 1 1
	from vwIncident i1  
	 where   
	  (started_on_hour is not null or closed_on > dateadd(minute, -1, dbo.getCurrentDateTime()))  
	  and closed = 0   
	  and treated = 0   
	  and cancelled = 0  
	  and i1.branch_id =  ISNULL(@branch, i1.branch_id)  
)) begin
	select CAST(1 as bit) empty for json path
	return
end


 select *,  
  (select top 1 * from vwIncident i2   
   where need_to_be_started = 1   
    and started_on_hour is null   
    and cancelled = 0  
    and closed = 0  
    and treated = 0  
    and i2.person_id = i1.person_id  
    and i1.date = i2.date  
    and i2.branch_id = i1.branch_id  
   order by i2.full_date  
   for json path) next_incident,  
    (select       
	p2.id,
    p2.scheduling_status, p2.scheduling_description,       
    p2.comunication_status, p2.comunication_description,      
    p2.financial_status, p2.financial_description,      
    p2.data_status, p2.data_status_description      
     from vwPerson p2 where p2.id = i1.person_id       
     for json path) person_data   
 from vwIncident i1  
 where   
  (started_on_hour is not null or closed_on > dateadd(minute, -1, dbo.getCurrentDateTime()))  
  and closed = 0   
  and treated = 0   
  and cancelled = 0  
  and i1.branch_id =  ISNULL(@branch, i1.branch_id)  
 order by case when i1.[type] = 36 then 0 else 1 end, started_on_hour  
 for json path   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[started_on_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentActivities].[@branch]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[need_to_be_started]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[full_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[started_on_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCurrentActivities].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="1526" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="  &#xD;&#xA;CREATE procedure GetCurrentActivities(  &#xD;&#xA; @branch int = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[getCurrentDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 return cast(dateadd(hour, -2, getdate()) as date)  
  
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="130" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="create function getCurrentDate()  &#xD;&#xA;returns date&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[getCurrentDateTime]">
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
    
 return dateadd(hour, -3, getdate())    
    
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="160" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE function getCurrentDateTime()    &#xD;&#xA;returns datetime    &#xD;&#xA;with schemabinding&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetDailyMonitor]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                                                                                
begin                                                                                
                 
 if(@start_date is null and @end_date is null)                
 begin                
  if(@display = 0)                
  begin                                           
  if(@week_modifier != 0 and @display_modifier = 0)                
   set @display_modifier = @week_modifier                
                                                              
  set @start_date = isnull(@start_date, DATEADD(WEEK, @display_modifier, DATEADD(d, -datepart(w, dbo.getCurrentDate())+2, dbo.getCurrentDate())))                                                                                 
  set @end_date = isnull(@end_date, DATEADD(WEEK, @display_modifier,cast(DATEADD(d, 8-datepart(w, dbo.getCurrentDate()), dbo.getCurrentDate()) as date)))                                                                                
  end                
  else if(@display = 1)                
  begin                
  set @start_date = isnull(@start_date, DATEADD(day, @display_modifier, dbo.getCurrentDate()))                 
  set @end_date = isnull(@end_date, @start_date)                      
  end                                  
  else if(@display = 2)                
  begin                
  declare @current_date date = DATEADD(month, @display_modifier, dbo.getCurrentDate())                
  declare @month int = datepart(MONTH, @current_date)                
  declare @year int = datepart(year, @current_date)                
  declare @last_day_of_month date = dateadd(day, -1, dateadd(month, 1, DATEFROMPARTS(@year, @month, 1)))                
                
  select @last_day_of_month                
                
  set @start_date = isnull(@start_date, DATEFROMPARTS(@year, @month, 1))                                                                                 
  set @end_date = isnull(@end_date, @last_day_of_month)                                                                                
  end                 
 end                
                
 declare @dates table([date] date, [current] bit)                                                                                
                                              
 declare @people table([name] varchar(300), domain varchar(100), domain_id int, branch_id int,                         
 branch_abrev varchar(30), branch_initials varchar(3),                        
 person_id int, n int, financial_status int not null default 0, financial_description varchar(max),                                               
 scheduling_status  int not null default 0, scheduling_description varchar(max), avatar_img varchar(100),                                              
 program_id int, comunication_status int not null default 0, comunication_description varchar(max),                                              
 kf_name varchar(100), kf_name_ideograms nvarchar(100), family_abrev varchar(10),                      
 is_disciple bit, is_leaving bit, is_inactive_member bit, admission_date date,             
 data_status bit not null default 0, data_status_description varchar(max), has_birthday_this_month bit not null default 0,  
 birth_date datetime default getdate(), is_interested bit not null default 0, is_service_provider  bit not null default 0, 
 is_associated_with_member  bit not null default 0, is_external_member  bit not null default 0)                                                                             
       
       
 select *               
 into #incidents              
 from vwIncident i                              
 where i.full_date between @start_date and dateadd(day, 1, @end_date)                                                                        
 and i.branch_id = isnull(@branch, i.branch_id)                                                 
 and i.cancelled = 0                                         
                                                    
 insert into @dates                                                     
  select [date], case when DATEPART(w, [date]) = datepart(w, dbo.getCurrentDate()) then 1 else 0 end                         
  from DateRange('d', @start_date, @end_date)                                                                                
                                                                                         
 insert into @people(                                              
	[name], domain, domain_id,                                               
	person_id, financial_status, financial_description,                                               
	scheduling_status, scheduling_description, avatar_img,                                              
	program_id, comunication_status, comunication_description,                                              
	kf_name, kf_name_ideograms,                       
	branch_id, branch_abrev, branch_initials,                         
	family_abrev, is_disciple, is_leaving, is_inactive_member,                     
	admission_date, data_status, data_status_description,      
	has_birthday_this_month, birth_date,
	is_interested, is_service_provider, 
	is_associated_with_member, is_external_member                       
 )                                                                                                                                 
  select [name],                                                                                
	[domain], [domain_id], id,                                                                                                                                             
	financial_status, [financial_description],                                                                               
	scheduling_status, [scheduling_description],                                                                            
	avatar_img, program_id,                                                                         
	comunication_status, comunication_description,                                                            
	kf_name, kf_name_ideograms,                      
	branch_id, branch_abrev, branch_initials,                      
	family_abrev, is_disciple, is_leaving, is_inactive_member,                          
	admission_date, data_status, data_status_description,      
	has_birthday_this_month, birth_date,
	is_interested, is_service_provider, 
	is_associated_with_member, is_external_member                         
  from vwPerson  p                   
  where branch_active = 1                                                                          
	and p.is_interested = 0
	and p.is_service_provider = 0
	and p.is_associated_with_member = 0 
	and p.is_external_member = 0
	and p.branch_id = isnull(@branch, p.branch_id)                                                             
                                               
                                              
 insert into @people(person_id, [name], avatar_img, branch_id, branch_abrev,  
  financial_status, financial_description,                                               
  scheduling_status, scheduling_description,  
  comunication_status, comunication_description,  
  data_status, data_status_description,
  is_interested, is_service_provider, 
  is_associated_with_member, is_external_member  
 )                                              
   select p.id, p.[name], avatar_img, isnull(p.branch_id, -1), isnull(p.branch_abrev, ''),  
  financial_status, financial_description,                                               
  scheduling_status, scheduling_description,  
  comunication_status, comunication_description,  
  data_status, data_status_description,
  p.is_interested, p.is_service_provider, 
  p.is_associated_with_member, p.is_external_member                                            
 from vwPerson p                                                                                
 where ((p.branch_id is null) 
		or (p.branch_id != isnull(@branch, p.branch_id))
		or (
				p.branch_id = isnull(@branch, p.branch_id) 
				and (
					p.is_interested = 1
					or p.is_service_provider = 1
					or p.is_associated_with_member = 1 
					or p.is_external_member = 1		
				) 
			)
		)                                               
   and exists(                                              
		select 1 from #incidents i where i.person_id = p.id                                                 
   )                                              
                       
 select *             
 into #columns                                                                                
 from (                                                                                 
  select LEFT(CONVERT(VARCHAR(15), [date], 103), 5) + ' - ' + (           
 SELECT  CASE DATEPART(WEEKDAY,[date])                                                                                
  WHEN 1 THEN 'D'                                                       
  WHEN 2 THEN '2a'                                                                              
  WHEN 3 THEN '3a'                                                                               
  WHEN 4 THEN '4a'                                                                             
  WHEN 5 THEN '5a'                                                                               
  WHEN 6 THEN '6a'                                                                               
  WHEN 7 THEN 'S'                                                                               
 END                                                                                
  )as [name], null prop, [date], [current]                                                                                
  from @dates                                                                                
 ) c                                                                                
 order by [date]                                                                                  
                                                                  
 select (                                                                                
  select [name], [domain], person_id, [domain_id],                                                                                 
   financial_status, [financial_description],                                                                               
   scheduling_status, [scheduling_description],                                                                            
   avatar_img, program_id, kf_name,                                                        
   comunication_status, comunication_description,                                              
   branch_abrev, branch_id, kf_name_ideograms,                       
   branch_initials, family_abrev family_name,                      
   is_disciple, is_leaving, is_inactive_member,                    
   admission_date, data_status, data_status_description, has_birthday_this_month,
   person_id id,
	is_interested, is_service_provider, 
	is_associated_with_member, is_external_member                                                                         
   from @people                                                                                 
   order by isnull(admission_date, DATEADD(year, 1, getdate())), birth_date desc                                                                       
   for json path                                                                  
 ) [people],                                                                                 
 (                                                                                
  select * from #columns                                                    
   for json path                                                                                
 ) [week_days],                                                                                
  (                                                                                
  isnull((select *            
 from #incidents                                                             
 order by full_date                                                                             
  for json path), (select cast(1 as bit) [empty] for json path))                                                  
 ) [incidents],                                                             
 (                                                                                
  select d.*, p.long_name program                                                      
  from domain d                                                              
  join program p on d.program_id = p.id                                                                           
  where exists(select 1 from person p                                                    
 join person_incident i on i.person_id = p.id                                                                           
 where p.domain_id = d.id                                                              
  and p.branch_id = isnull(@branch, p.branch_id))                              
 order by [order]                                                                              
  for json path                                                               
 ) [domains],                              
 (                                                                                
  select *                                                                          
  from branch                                                     
  where active = 1                                                                              
  for json path                                                                                
 ) [branches],                                                            
 (                                                                        
  select                                    
  (LEFT(CONVERT(VARCHAR(15), @start_date, 103), 5) +            
  case when @display = 1 then ''             
  else                                                                         
 ' - '                                                                           
 + LEFT(CONVERT(VARCHAR(15), @end_date, 103), 5)            
  end) [range],                                     
  cast((case when dbo.getCurrentDate() >= @start_date and dbo.getCurrentDate() <= @end_date then 1 else 0 end) as bit) [current]                                    
  for json path                                    
 ) selected_week,                                    
 isnull(@branch, -1) branch,                                                                  
 (                                                                  
  select * from vwIncidentType                                                                 
  order by [order]                                                                  
  for json path                                                                  
 ) incident_types                  
 for json path                                                                                
                                                                                                    
 drop table #columns                                                                                
 drop table #incidents                       
                 
                                                                                
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@display_modifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@display]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@week_modifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[full_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DateRange].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[family_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_external_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[family_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_external_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_external_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[#incidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[#incidents].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@dates].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@dates].[current]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@dates].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[branch_initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[family_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[is_external_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[@people].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[#columns]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDailyMonitor].[#incidents].[full_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncidentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncidentType].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetDailyMonitor].[@dates]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@dates].[date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[date]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@dates].[current]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetDailyMonitor].[@people]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[domain]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[domain_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[branch_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[branch_abrev]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[branch_initials]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="3" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[n]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[financial_status]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[financial_description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[scheduling_status]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[scheduling_description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[avatar_img]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[program_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[comunication_status]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[comunication_description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[kf_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[kf_name_ideograms]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[family_abrev]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_disciple]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_leaving]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_inactive_member]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[admission_date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[date]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[data_status]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[data_status_description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[has_birthday_this_month]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[birth_date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_interested]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_service_provider]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_associated_with_member]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetDailyMonitor].[@people].[is_external_member]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetDailyMonitor].[#incidents]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[small_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[small_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[full_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[full_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[start_hour]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[start_hour]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[started_on_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[started_on_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[started_on_hour]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[started_on_hour]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[closed_on_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[closed_on_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[closed_on_hour]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[closed_on_hour]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[closed]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[closed]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[closed_on]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[closed_on]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[treated]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[treated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[abrev]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[abrev]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[person]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[person]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[person_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[person_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[title]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[title]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[type]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[type]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[value]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[value]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[short_description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[short_description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[long_description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[long_description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[past]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[past]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[treatment_text]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[treatment_text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[new_schedule_small_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[new_schedule_small_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[new_schedule_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[new_schedule_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[new_schedule_hour]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[new_schedule_hour]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[obrigatory]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[obrigatory]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[need_description_for_closing]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[need_description_for_closing]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[need_to_be_started]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[need_to_be_started]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[close_text]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[close_text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[cancelled]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[cancelled]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[branch_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[branch_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[branch_initials]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[branch_initials]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[need_start_hour_minute]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[need_start_hour_minute]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[admission_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[admission_date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[updated_at]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[updated_at]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#incidents].[comment_count]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[vwIncident].[comment_count]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetDailyMonitor].[#columns]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#columns].[name]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#columns].[prop]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#columns].[date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetDailyMonitor].[@dates].[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetDailyMonitor].[#columns].[current]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetDailyMonitor].[@dates].[current]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@week_modifier]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@display]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@display_modifier]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@start_date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@end_date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDailyMonitor].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="48" />
				<Property Name="Length" Value="16748" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="                                              &#xD;&#xA;CREATE procedure [dbo].[GetDailyMonitor](                                                                          &#xD;&#xA; @week_modifier int = 0,                                                                          &#xD;&#xA; @branch int = null,                                                         &#xD;&#xA; @display int = 0, /* 0 = week, 1 = day, 2 = month */                &#xD;&#xA; @display_modifier int = 0,                &#xD;&#xA; @start_date date = null,                                                                          &#xD;&#xA; @end_date date = null,                &#xD;&#xA; @date date = null                &#xD;&#xA;)                                                                                &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetDomains]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select do.*        
    from domain do             
    order by [order] desc        
    for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="156" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetDomains&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetIncidentComments]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
    
 if(not exists(select 1 from incident_comment ic where ic.incident_id = @incident_id and archived = 0))    
 begin    
  select cast(1 as bit) empty for json path    
  return    
 end    
    
 select ic.id, ic.comment, ic.responsible_id, ic.created_at,     
  CONVERT (VARCHAR, ic.created_at, 103) created_date_br,    
  convert(char(5), ic.created_at, 108) created_hour_br    
 from incident_comment ic    
 where ic.incident_id = @incident_id    
 and (@show_archived = 1 or archived = 0)  
 ORDER BY ic.created_at    
 OFFSET ((@page - 1) * @comments_per_page) ROWS    
 FETCH NEXT @comments_per_page ROWS ONLY    
 for json path    
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetIncidentComments].[@incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[archived]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[created_at]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetIncidentComments].[@show_archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetIncidentComments].[@page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetIncidentComments].[@comments_per_page]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentComments].[@incident_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentComments].[@comments_per_page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentComments].[@page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentComments].[@show_archived]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="856" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[GetIncidentComments](    &#xD;&#xA; @incident_id int,    &#xD;&#xA; @comments_per_page int = 10,    &#xD;&#xA; @page int = 1,    &#xD;&#xA; @show_archived bit = 0    &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetIncidentsAgenda]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin 

	if(@date is null)
	begin 
		set @date = dbo.getCurrentDate()
	end


end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetIncidentsAgenda].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentsAgenda].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetIncidentsAgenda].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="171" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetIncidentsAgenda&#xD;&#xA;(@branch int = null,&#xD;&#xA;@date date = null)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetIncidentsInProgress]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select *
	from vwIncident 
	where started_on_hour is not null
		and closed = 0
		and treated = 0
		and cancelled = 0
	for json path


end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[started_on_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[cancelled]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="201" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetIncidentsInProgress&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetIncidentTypes]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	select * 
	from vwIncidentType	
	order by [order]
	for json path
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwIncidentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncidentType].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="121" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE procedure GetIncidentTypes&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetKungFuFamilies]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	select p2.id, p2.avatar_img, p2.name master_name,           
	  pa.alias [name], pa.ideograms family_ideograms              
	 from person p2          
	  join person_role pr2 on pr2.person_id = p2.id            
	  join person_alias pa on pa.person_id = p2.id          
	 where pr2.role_id = 9           
	  and pa.kungfu_name = 1           
	 for json path              
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="434" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;create procedure GetKungFuFamilies&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetManagementBoard]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select title, 
		(select pa.alias person, p.avatar_img, 
			isnull(pc.position_description, pcp.name) position
		from person_card pc
			join person_card_position pcp on pcp.id = pc.position
			join person p on p.id = pc.person_id
			left join person_alias pa on pa.person_id = p.id and pa.principal = 1
		where pc.card_id = c.id
		order by pc.[order], pc.[position]		
		for json path) team
	from card c
	where parent_id is null
		and cancelled = 0
		and archived = 0
	order by c.[order]		
	for json path
	

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="579" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetManagementBoard&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetMembersList]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 select id, [long_name],   
  (select d.*,  
   (select pp.id, pp.avatar_img, pp.admission_date, convert(varchar, pp.admission_date, 103) admission_date_br,  
    pp.financial_status, pp.scheduling_status, pp.is_leaving, pp.is_inactive_member,  
    ISNULL(pa.alias, pp.[name]) [name], kf_name.ideograms kf_name_ideograms, kf_name.alias kf_name,  
    b.[abrev] branch, family.abrev family_name, b.initials branch_initials,
	pp.data_status, pp.data_status_description, 
	epss.[description] scheduling_description, epfs.[description] financial_description, pp.has_birthday_this_month 
   from person pp   
    join branch b on b.id = pp.branch_id 
	join enum_person_scheduling_status epss on epss.id = pp.scheduling_status 
	join enum_person_financial_status epfs on epfs.id = pp.financial_status
    left join person_alias pa on pa.person_id = pp.id and pa.principal = 1  
    left join person_alias kf_name on kf_name.person_id = pp.id and kf_name.kungfu_name = 1  
    left join vwFamily family on family.id = pp.family_id      
   where pp.program_id = p.id  
    and pp.domain_id = d.id  
    and b.active = 1  
   order by pp.admission_date, pp.birth_date, pp.[name]  
   for json path  
   ) members   
  from domain d (nolock)  
  where d.program_id = p.id     
   and exists(select 1 from person ps where ps.domain_id = d.id)  
  order by [order]  
  for json path) [domains]  
 from program p  (nolock)  
 order by id desc  
 for json path   
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwFamily]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwFamily].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[admission_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwFamily].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1552" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE procedure [dbo].[GetMembersList]  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetOperators]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select p.* 
	from person p
	where p.is_director = 1
		or p.is_manager = 1 
		or p.is_operator = 1
	order by p.name -- isnull(p.admission_date, dateadd(year, 1, getdate()))
	for json path


end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="246" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetOperators&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetOrganizations]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[          
begin          
    
 if(not exists(select 1 from [card] c          
 where (@show_archived = 1 or archived = 0)          
 and parent_id is null          
 and c.id = isnull(@organization_id, c.id)))    
 begin      
  select cast(1 as bit) empty    
  for json path    
  return    
     
 end    
    
          
 select *,          
 (select pc.person_id, p.name, p.avatar_img, pc.[order],           
	isnull(pc.position_description, pcp.name) position_description,           
	pc.position,      
	cast((case when       
	exists(select 1       
		from [card] children       
		join person_card pc on pc.card_id = children.id      
		where children.parent_id = c.id and person_id = p.id)      
		then 1 else 0 end) as bit) has_tasks   
  from person_card pc          
   join vwPerson p on pc.person_id = p.id          
   join person_card_position pcp on pcp.id = pc.position          
  where pc.card_id = c.id          
  order by pc.[order]        
  for json path          
 ) people,    
 (    
 select * from vwCard     
  where parent_id = c.id     
  and cancelled = 0    
  and (@show_archived = 1 or archived = 0)      
 for json path
 ) childrens           
 from [card] c          
 where (@show_archived = 1 or archived = 0)          
  and parent_id is null          
  and c.id = isnull(@organization_id, c.id)          
 order by [order]         
 for json path          
          
          
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOrganizations].[@show_archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOrganizations].[@organization_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetOrganizations].[@user]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetOrganizations].[@show_archived]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetOrganizations].[@organization_id]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetOrganizations].[@include_childrens]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1627" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetOrganizations(@user int = null, @show_archived bit = 0,     &#xD;&#xA;@organization_id int = null, @include_childrens bit = 0)          &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleAway]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
  if(@people_per_page is null)   
 set @people_per_page = 150  
  
  if(@page is null)   
 set @page = 1  
  
 if(not exists(select 1 from vwPerson p    
  left join incident i on i.id = p.next_incident_id    
  where  (p.is_leaving = 1 or is_inactive_member = 1)  
 and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))  
 and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))))        
 begin         
  select CAST(1 as bit) [empty]        
  for json path    
  return        
 end        
  
  
 select p.*,  
 (  
 select * from vwPersonContact pc   
 where pc.person_id = p.id and pc.removed = 0  
 order by pc.principal desc  
 for json path  
 ) contacts,  
 (  
 select * from person_comment pc   
 where pc.person_id = p.id and pc.archived = 0   
 for json path  
 ) commentaries  
  from vwPerson p    
  left join incident i on i.id = p.next_incident_id    
  where (p.is_leaving = 1 or is_inactive_member = 1)    
		and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))  
		and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))  
  ORDER BY isnull(i.date, dateadd(year, -1, getdate())), name       
  OFFSET ((@page - 1) * @people_per_page) ROWS        
  FETCH NEXT @people_per_page ROWS ONLY        
  for json path     
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetPeopleAway].[@people_per_page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleAway].[@page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleAway].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleAway].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleAway].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleAway].[@name]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleAway].[@people_per_page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[50]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleAway].[@page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="1603" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="    &#xD;&#xA;CREATE procedure GetPeopleAway(    &#xD;&#xA; @branch int = null,  &#xD;&#xA; @name varchar(150) = null,  &#xD;&#xA; @people_per_page int = 50,        &#xD;&#xA; @page int = 1       &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleByNameForBot]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[         
begin        
 declare @n int, @query varchar(300), @total int, @search varchar(300)        
 declare @people table( person_id int,         
  [name] varchar(300),         
  [query] varchar(300),         
  [search] varchar(300),        
  total int,        
  options varchar(max),        
  found bit        
 )        
        
 declare @options table(        
  search varchar(300),        
  id int,        
  [name] varchar(300),        
  found bit        
 )        
        
 select distinct ltrim(rtrim(item)) as [query], ROW_NUMBER() over(order by item) n        
 into #names        
 from dbo.split(@names, ',')        
         
 while(exists(select 1 from #names))        
 begin        
  select top 1 @n = n, @search = [query], @query = '"' +[query] + '"' from #names        
        
  select @total = count(distinct p.id)         
  from person p        
   join person_alias pa on p.id = pa.person_id        
  where contains(pa.alias,  @query)             
        
  if(@total = 1)        
  begin        
   insert into @people(person_id, [name], [query], search, total, options, found)        
    select distinct p.id, p.[name], null, null, 1, '', 1        
    from person p        
     join person_alias pa on p.id = pa.person_id        
    where contains(pa.alias,  @query)          
  end               
  else        
  begin        
   if(exists(select 1         
    from person p        
    join person_alias pa on p.id = pa.person_id        
    where contains(pa.alias,  @query)))        
   begin        
    insert into @options(search, id, [name], found)        
     select Top 5 @search, p.id, p.[name], 1       
  from person p        
  join person_alias pa on p.id = pa.person_id        
     where contains(pa.alias,  @query)            
   end        
   else        
   begin        
    insert into @options(search, found) values (@search, 0)        
   end        
  end        
        
  delete from #names where n = @n        
 end        
        
 delete from @options where exists (select 1 from @people where person_id = id)        
        
        
 insert into @people(found, [name], total, options)        
  select distinct found, search, count(1),         
     (select distinct top 5 id person_id, [name]       
     from @options o2       
     where o1.search = o2.search      
     for json path      
     )           
  from @options o1        
  group by search, found        
        
 select distinct * from @people        
 order by [name]        
        
 drop table #names        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@names]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[#names]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[#names].[n]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[#names].[query]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[query]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[options]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[found]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[found]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@people].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForBot].[@options].[search]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleByNameForBot].[@people]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[query]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[search]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[total]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[options]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@people].[found]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleByNameForBot].[@options]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@options].[search]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@options].[id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@options].[name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForBot].[@options].[found]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleByNameForBot].[#names]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetPeopleByNameForBot].[#names].[query]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetPeopleByNameForBot].[#names].[n]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleByNameForBot].[@names]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2743" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetPeopleByNameForBot(        &#xD;&#xA; @names varchar(max)        &#xD;&#xA;)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleByNameForTypeahead]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[               
begin              
 declare @n int, @query varchar(300), @total int, @search varchar(300)              
 declare @people table( person_id int,               
  [name] varchar(300),                  
  [search] varchar(300),                 
  found bit,      
  avatar_url varchar(300),  
  is_director bit not null default 0, 
  is_disciple bit not null default 0,
  is_active_member bit not null default 0,
  is_interested bit not null default 0          
 )        
              
 select distinct ltrim(rtrim(item)) as [query], ROW_NUMBER() over(order by item) n              
 into #names              
 from dbo.split(@names, ',')              
               
 while(exists(select 1 from #names))              
 begin              
  select top 1 @n = n, @search = [query], @query = '"' +[query] + '"' from #names              
              
  select @total = count(distinct p.id)               
  from person p              
   left join person_alias pa on p.id = pa.person_id              
  where pa.alias like '%' + @search + '%' COLLATE Latin1_General_CI_AI                
		or p.[name] like '%' + @search + '%' COLLATE Latin1_General_CI_AI  	              
              
  if(@total >= 1)              
  begin              
	insert into @people(person_id, [name], search, found, avatar_url, is_disciple, is_active_member, is_director)              
	  select distinct p.id, p.[name], @search, 1, avatar_img, p.is_disciple, p.is_active_member, p.is_director            
	  from person p              
	   left join person_alias pa on p.id = pa.person_id              
	  where pa.alias like '%' + @search + '%' COLLATE Latin1_General_CI_AI                       
		or p.[name] like '%' + @search + '%' COLLATE Latin1_General_CI_AI    
	  
  end                             
  else              
  begin                 
	 insert into @people(person_id, [name], search, found)              
	 values (      
	  0, @search, @search, 0      
	 )      
  end                
              
  delete from #names where n = @n              
 end              
              
 select distinct * 
 from @people p           
 order by p.is_director desc, p.is_disciple desc, p.is_active_member desc, p.[name]          
 for json path       
              
 drop table #names              
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@names]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[#names]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[#names].[n]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[#names].[query]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[found]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[avatar_url]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleByNameForTypeahead].[@people]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[search]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[found]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[avatar_url]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_director]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_disciple]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_active_member]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[@people].[is_interested]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleByNameForTypeahead].[#names]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[#names].[query]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetPeopleByNameForTypeahead].[#names].[n]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleByNameForTypeahead].[@names]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="8" />
				<Property Name="Length" Value="2502" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="      &#xD;&#xA;CREATE procedure [dbo].[GetPeopleByNameForTypeahead](              &#xD;&#xA; @names varchar(max)              &#xD;&#xA;)              &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleInterested]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  if(@people_per_page is null)	
	set @people_per_page = 150

  if(@page is null)	
	set @page = 1

 if(not exists(select 1 from vwPerson p  
  left join incident i on i.id = p.next_incident_id  
  where p.is_interested = 1  
	and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))
	and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))))      
 begin       
  select CAST(1 as bit) [empty]      
  for json path  
  return      
 end      


 select p.*,
	(
	select * from vwPersonContact pc 
	where pc.person_id = p.id and pc.removed = 0
	order by pc.principal desc
	for json path
	) contacts,
	(
	select * from person_comment pc 
	where pc.person_id = p.id and pc.archived = 0	
	for json path
	) commentaries
  from vwPerson p  
  left join incident i on i.id = p.next_incident_id  
  where p.is_interested = 1  
	and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))
	and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))
  ORDER BY isnull(i.date, dateadd(year, -1, getdate())), name     
  OFFSET ((@page - 1) * @people_per_page) ROWS      
  FETCH NEXT @people_per_page ROWS ONLY      
  for json path   
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetPeopleInterested].[@people_per_page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleInterested].[@page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleInterested].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleInterested].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleInterested].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleInterested].[@name]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleInterested].[@people_per_page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[50]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleInterested].[@page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="1460" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="  &#xD;&#xA;CREATE procedure GetPeopleInterested(  &#xD;&#xA; @branch int = null,&#xD;&#xA; @name varchar(150) = null,&#xD;&#xA; @people_per_page int = 50,      &#xD;&#xA; @page int = 1     &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleList]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
    
  select pp.id, pp.id person_id, pp.avatar_img, pp.admission_date, convert(varchar, pp.admission_date, 103) admission_date_br,    
    pp.financial_status, pp.scheduling_status, pp.is_leaving, pp.is_inactive_member,    
    pp.[name], pp.kf_name_ideograms, pp.kf_name,    
    pp.branch_abrev, pp.family_abrev, pp.branch_initials,  
	pp.data_status, pp.data_status_description,   
	pp.scheduling_description, pp.financial_description,  
	pp.issues_level, pp.branch_id, pp.has_birthday_this_month,
	pp.comunication_status
  from vwPerson pp  
  where pp.branch_active = 1  
  order by is_leaving DESC, is_inactive_member DESC, isnull(pp.admission_date, DATEADD(day, 1, getdate())), pp.birth_date, pp.[name]    
  for json path  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[admission_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[family_abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[scheduling_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[financial_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[issues_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[birth_date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="820" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="  &#xD;&#xA;CREATE procedure [dbo].[GetPeopleList]    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleServiceProvider]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
  if(@people_per_page is null)   
 set @people_per_page = 150  
  
  if(@page is null)   
 set @page = 1  
  
 if(not exists(select 1 from vwPerson p    
  left join incident i on i.id = p.next_incident_id    
  where p.is_service_provider = 1
 and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))  
 and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))))        
 begin         
  select CAST(1 as bit) [empty]        
  for json path    
  return        
 end        
  
  
 select p.*,  
 (  
 select * from vwPersonContact pc   
 where pc.person_id = p.id and pc.removed = 0  
 order by pc.principal desc  
 for json path  
 ) contacts,  
 (  
 select * from person_comment pc   
 where pc.person_id = p.id and pc.archived = 0   
 for json path  
 ) commentaries  
  from vwPerson p    
  left join incident i on i.id = p.next_incident_id    
  where p.is_service_provider = 1
		and isnull(p.branch_id, -1) = isnull(@branch, isnull(p.branch_id, -1))  
		and (@name is null or len(@name) <= 0 or (p.name like '%' + @name + '%' COLLATE Latin1_General_CI_AI ))  
  ORDER BY isnull(i.date, dateadd(year, -1, getdate())), name       
  OFFSET ((@page - 1) * @people_per_page) ROWS        
  FETCH NEXT @people_per_page ROWS ONLY        
  for json path     
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetPeopleServiceProvider].[@people_per_page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleServiceProvider].[@page]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleServiceProvider].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleServiceProvider].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleServiceProvider].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleServiceProvider].[@name]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleServiceProvider].[@people_per_page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[50]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleServiceProvider].[@page]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="1569" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="    &#xD;&#xA;create procedure GetPeopleServiceProvider(    &#xD;&#xA; @branch int = null,  &#xD;&#xA; @name varchar(150) = null,  &#xD;&#xA; @people_per_page int = 50,        &#xD;&#xA; @page int = 1       &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPeopleSummary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                                          
begin                                          
 if(@date is null)  
  set @date = getdate()         
                                                             
 declare @week int = (select id   
      from [week]   
      where [start] <= DATEADD(week, @week_modifier, dbo.getCurrentDate())  
       and [end] >= DATEADD(week, @week_modifier, dbo.getCurrentDate()))  
                                          
 declare @people_summary table(program varchar(50), people int, comunications int, financial int, scheduling int)         
  
 insert into @people_summary(program, people,                   
      financial, scheduling, comunications)                    
  select pp.[name] program, sum(ms.people),                   
      sum(ms.financial_issues), sum(ms.scheduling_issues), sum(ms.comunication_issues)                     
  from program pp                      
   join members_sumary ms on ms.program_id = pp.id                  
  where ms.branch_id = isnull(@branch, ms.branch_id)                  
   and ms.week_id = @week  
  group by pp.[name]                 
                      
 insert into @people_summary(program, people, financial, scheduling, comunications)                    
  select 'Total', sum(people), sum(financial), sum(scheduling), sum(comunications)                    
  from @people_summary                      
  
 select *   
 from @people_summary   
 order by program  
 for json path, root('people_summary')  
                                                                       
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@week_modifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@people_summary].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@people_summary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@people_summary].[financial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@people_summary].[scheduling]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@people_summary].[comunications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[financial_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[scheduling_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[comunication_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPeopleSummary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPeopleSummary].[@people_summary]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleSummary].[@people_summary].[program]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleSummary].[@people_summary].[people]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleSummary].[@people_summary].[comunications]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleSummary].[@people_summary].[financial]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPeopleSummary].[@people_summary].[scheduling]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleSummary].[@week_modifier]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleSummary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPeopleSummary].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="14" />
				<Property Name="Length" Value="1913" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="  &#xD;&#xA;        &#xD;&#xA;CREATE procedure [dbo].[GetPeopleSummary](                                    &#xD;&#xA; @week_modifier int = 0,                                     &#xD;&#xA; @branch int = null,                  &#xD;&#xA; @date date = null                                    &#xD;&#xA;)                                          &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPersonContacts]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
begin       
      
 if(not exists(select 1 from person_contact where person_id = @person_id and removed = 0 and (@only_principal = 0 or principal = 1)))  
 begin  
 select CAST(1 as bit) empty for json path  
 return;  
 end  
  
 select * from vwPersonContact pc   
 where person_id = @person_id      
  and removed = 0     
  and (@only_principal = 0 or pc.principal = 1)   
 order by principal desc, contact_type      
 for json path      
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonContacts].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonContacts].[@only_principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[principal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[principal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonContacts].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonContacts].[@only_principal]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="572" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE procedure [dbo].[GetPersonContacts](@person_id int, @only_principal bit = 0)      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPersonData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                      
begin                      
 select *
 from vwPerson p
 where p.id = @id                      
 for json path                      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonData].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonData].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="237" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[GetPersonData](@id int)                      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPersonMissingData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[        
begin        
        
  declare @data_status_description table (person_id int, [description] varchar(100), missing_code varchar(30))                
     
  insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem Núcleo Vinculado', 'NO_BRANCH_DEFINED'                
  from person p                  
  where branch_id is null                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_interested = 1 or is_service_provider = 1)                
   and p.Id = isnull(@person_id, p.id)   
                
  insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem data de nascimento', 'NO_BIRTH_DATE'                
  from person p                  
  where birth_date is null                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1 or is_interested = 1)                
   and p.Id = isnull(@person_id, p.id)      
                   
                
  insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem data de admissão', 'NO_ADMISSION_DATE'                
  from person p                  
  where admission_date is null                
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)                
   and p.program_id >= 2             
   and p.family_id is not null          
         
 insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem data de matrícula', 'NO_ENROLLMENT_DATE'                
  from person p                  
  where enrollment_date is null                
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)                
   and p.program_id is not null       
   and p.destiny_family_id is not null      
    
 insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem identidade', 'NO_IDENTIFICATION'                
  from person p                  
  where (identification is null or len(identification) <= 0)                
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)    
   and CAST(DATEDIFF(hh, [birth_date], GETDATE()) / 8766 AS int) > 18    
                        
 insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem CPF', 'NO_IDENTIFICATION2'                
  from person p                  
  where (identification2 is null or len(identification2) <= 0)                
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)     
   and CAST(DATEDIFF(hh, [birth_date], GETDATE()) / 8766 AS int) > 18    
    
 insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem Profissão', 'NO_OCCUPATION'                
  from person p                  
  where (occupation is null or len(occupation) <= 0)               
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)    
   and CAST(DATEDIFF(hh, [birth_date], GETDATE()) / 8766 AS int) > 18     
      
 insert into @data_status_description(person_id, [description], missing_code)                
  select id, 'Sem família de destino', 'NO_DESTINY_FAMILY'                
  from person p                  
  where destiny_family_id is null                
   and p.Id = isnull(@person_id, p.id)                
   and (p.is_active_member = 1 or p.is_leaving = 1 or p.is_inactive_member = 1)                
   and p.program_id is not null and p.id != 41                     
                 
  insert into @data_status_description(person_id, [description], missing_code)                
  select p.id, 'Sem ideogramas do nome kung fu', 'NO_KF_NAME_IDEOGRAMS'               
  from person p                 
   join person_alias pa on pa.person_id = p.id and pa.kungfu_name = 1                
  where p.Id = isnull(@person_id, p.id)                
   and (p.is_disciple = 1 and (pa.ideograms is null or LEN(pa.ideograms) <= 1))                
                
  insert into @data_status_description(person_id, [description], missing_code)                
  select p.id, 'Sem nome kung fu', 'NO_KF_NAME'                       
  from person p                 
   left join person_alias pa on pa.person_id = p.id and pa.kungfu_name = 1                 
  where p.Id = isnull(@person_id, p.id)                
   and p.is_disciple = 1                 
   and pa.alias is null              
          
  insert into @data_status_description(person_id, [description], missing_code)                
  select p.id, 'Sem contato principal definido', 'NO_PRINCIPAL_CONTACT'                
  from person p                   
  where p.Id = isnull(@person_id, p.id)                                  
  and not exists(select 1 from person_contact pc where pc.person_id = p.id and pc.principal = 1 and removed = 0)        
  and exists(select 1 from person_contact pc where pc.person_id = p.id and removed = 0)        
                
  insert into @data_status_description(person_id, [description], missing_code)                
  select p.id, 'Nenhum contato definido', 'NO_CONTACTS'                
  from person p                   
  where p.Id = isnull(@person_id, p.id)                                  
  and not exists(select 1 from person_contact pc where pc.person_id = p.id and removed = 0)        
                        
        
  if(@save_data = 1)        
  begin        
   update p set data_status = 1, data_status_description = stuff(                
      (select ', ' + [description]                 
   from @data_status_description                
   where person_id = p.id                
      For XML PATH ('')), 1, 2, ''                
     )                
   from person p                
where               
   p.id = ISNULL(@person_id, p.id)              
   and exists(select 1 from @data_status_description d where d.person_id = p.id)                
              
   update p set data_status = 0, data_status_description = ''                         
   from person p                        
   where p.Id = isnull(@person_id, p.id)                   
   and not exists(select 1 from @data_status_description d where d.person_id = p.id)        
 end        
 else        
 begin        
  if(not exists(select 1 from @data_status_description))        
  begin        
   select CAST(1 as bit) [empty]        
   for json path        
        
   return        
  end        
        
  select * from @data_status_description        
  for json path        
 end        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[missing_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[enrollment_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[destiny_family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification2]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[occupation]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[destiny_family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@save_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonMissingData].[@data_status_description].[person_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPersonMissingData].[@data_status_description]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPersonMissingData].[@data_status_description].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPersonMissingData].[@data_status_description].[description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetPersonMissingData].[@data_status_description].[missing_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonMissingData].[@person_id]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonMissingData].[@save_data]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="10" />
				<Property Name="Length" Value="7226" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="      &#xD;&#xA;&#xD;&#xA;CREATE procedure [dbo].[GetPersonMissingData](@person_id int = null, @save_data bit = 0)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPersonRoles]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin     
    
 if(not exists(select 1 from person_role where person_id = @person_id))    
 begin     
  select CAST(1 as bit) [empty]    
  for json path
  return    
 end    
    
 select r.*     
 from [role] r    
  join person_role pr on pr.role_id = r.id    
 where pr.person_id = @person_id    
 order by r.[name]  
 for json path     
      
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonRoles].[@person_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[role].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[role].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonRoles].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="450" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetPersonRoles(    &#xD;&#xA; @person_id int    &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPersonScheduling]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
 begin     
    
 if(not exists(select 1 from person_schedule where person_id = @person_id and cancelled = 0   ))  
 begin   
  select CAST(1 as bit) [empty]
  for json path
  return  
 end  
  
 select ps.*,         
  case when len(eit.[name]) > 10 then eit.abrev else eit.[name] end type_description,          
  rt.[description] recurrence_description,                 
  case when ps.week_day = 1 then 'Dom'                
  when ps.week_day = 2 then 'Seg'                 
  when ps.week_day = 3 then 'Ter'                 
  when ps.week_day = 4 then 'Qua'                 
  when ps.week_day = 5 then 'Qui'                 
  when ps.week_day = 6 then 'Sex'                 
  when ps.week_day = 7 then 'Sab'                 
  end week_day_description                    
 from person_schedule ps                           
  join enum_incident_type eit on eit.id = ps.incident_type                           
  join recurrence_type rt on rt.id = ps.recurrence_type                
 where ps.person_id = @person_id            
  and ps.cancelled = 0      
 for json path     
    
    
 end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonScheduling].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[recurrence_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[recurrence_type].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[week_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[cancelled]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPersonScheduling].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1" />
				<Property Name="Length" Value="1196" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" CREATE procedure GetPersonScheduling(@person_id int)    &#xD;&#xA; as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPrograms]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

 select id, long_name [name], (select id, long_name [name]        
    from domain do         
    where do.program_id = ppg.id        
    order by [order] desc        
    for json path) [domains]         
 from program ppg        
 for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="304" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetPrograms&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetProject]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                
begin                
                          
 select *,
 (          
  select
    *
   from dbo.vwCard           
   where parent_id = c.id      
   and current_step_id is null         
   and cancelled = 0  
   and archived = 0       
   order by [order]       
  for json path      
 ) childrens,
 (          
  select *,
   (    
    select * from dbo.vwCard ch          
     where parent_id = c.id      
		and current_step_id = cs.id      
		and cancelled = 0  
		and archived = 0     
	order by ch.[order]              
    for json path    
   ) childrens       
  from dbo.card_step cs           
  where cs.card_id = c.id    
  and archived = 0            
  order by cs.[order]
  for json path      
 ) steps                  
 from [vwCard] c                
 where    
 c.id = isnull(@project_id, c.id)                
 order by [order]               
 for json path                                           
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[vwCard]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[current_step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[current_step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProject].[@project_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProject].[@project_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProject].[@user]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1079" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[GetProject](@project_id int, @user int = null)                &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetRecurrenceTypes]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	select *             
	from recurrence_type            
	where active = 1            
	for json path   

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[recurrence_type].[active]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="164" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure GetRecurrenceTypes&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetRoles]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 select * from [role]  
 order by [name]
 for json path  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[role].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="116" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure GetRoles  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetSumary]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                                        
begin                                        
	if(@date is null)
		set @date = getdate()       
	   
	                                                      
	declare @week int = (select id 
						from [week] 
						where [start] <= DATEADD(week, @week_modifier, dbo.getCurrentDate())
							and [end] >= DATEADD(week, @week_modifier, dbo.getCurrentDate()))
 
	declare @month int = (select id 
						from [month] 
						where [start] <= DATEADD(month, @month_modifier, dbo.getCurrentDate())
							and [end] >= DATEADD(month, @month_modifier, dbo.getCurrentDate()))
                                        
	declare @sumary table(program varchar(20), people int, comunications int, financial int, scheduling int)       

	insert into @sumary(program, people,                 
						financial, scheduling, comunications)                  
		select pp.[name] program, sum(ms.people),                 
						sum(ms.financial_issues), sum(ms.scheduling_issues), sum(ms.comunication_issues)                   
		from program pp                    
			join members_sumary ms on ms.program_id = pp.id                
		where ms.branch_id = isnull(@branch, ms.branch_id)                
			and ms.month_id = @month
		group by pp.[name]               
                    
	insert into @sumary(program, people, financial, scheduling, comunications)                  
		select 'Total', sum(people), sum(financial), sum(scheduling), sum(comunications)                  
		from @sumary    		              

	select 
			(select eat.id, eat.[name], eat.[close_group], eat.obrigatory,
			(
			select closed, not_treated, treated, expected, unexpected
			from (
				select 1 [order], sum(expected) expected, sum(s.unexpected) unexpected, sum(s.closed) closed, sum(s.treated) treated, sum(s.not_treated) not_treated
				from activity_sumary s	
				where s.branch_id = isnull(@branch, s.branch_id)
					and s.[date] = @date
					and s.activity_type = eat.id
				union all
					select 2, sum(expected) expected, sum(s.unexpected) unexpected, sum(s.closed) closed, sum(s.treated) treated, sum(s.not_treated) not_treated
					from activity_sumary s	
					where s.branch_id = isnull(@branch, s.branch_id)
						and s.[week_id] = @week
						and s.activity_type = eat.id
				union all 
					select 3, sum(expected) expected, sum(s.unexpected) unexpected, sum(s.closed) closed, sum(s.treated) treated, sum(s.not_treated) not_treated
					from activity_sumary s	
					where s.branch_id = isnull(@branch, s.branch_id)
						and s.month_id = @month
						and s.activity_type = eat.id) t
			order by [order]
			for json path) activity
		from enum_activity_type eat
		order by eat.[order]
		for json path
	) sumary, 
	(select * from @sumary for json path) members_sumary,
	(select * from branch where active = 1 for json path) branches,	
	convert(VARCHAR(10), @date, 103) current_date_text,	
	(select cast(number as varchar(2)) + '/' + cast(DATEPART(year, [start]) as varchar(4))
		from [week] where id = @week) current_week_text, 
	(select cast([month] as varchar(2)) + '/' + cast([year] as varchar(4))
		from [month] where id = @month) current_month_text
	for json path
                                                                     
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@week_modifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@month_modifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@sumary].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@sumary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@sumary].[financial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@sumary].[scheduling]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@sumary].[comunications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[financial_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[scheduling_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[comunication_issues]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSumary].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[members_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[close_group]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[obrigatory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[expected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[unexpected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[not_treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[activity_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[week_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[activity_sumary].[month_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_activity_type].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[week].[number]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[month]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[month].[year]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetSumary].[@sumary]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSumary].[@sumary].[program]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="20" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSumary].[@sumary].[people]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSumary].[@sumary].[comunications]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSumary].[@sumary].[financial]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetSumary].[@sumary].[scheduling]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSumary].[@week_modifier]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSumary].[@month_modifier]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSumary].[@branch]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetSumary].[@date]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="8" />
				<Property Name="Length" Value="3628" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="      &#xD;&#xA;CREATE procedure [dbo].[GetSumary](                                  &#xD;&#xA; @week_modifier int = 0,                                  &#xD;&#xA; @month_modifier int = 0,&#xD;&#xA; @branch int = null,                &#xD;&#xA; @date date = null                                  &#xD;&#xA;)                                        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[incident]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[responsible_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[created_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="78" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[incident_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[closed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="79" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[closed_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[closed_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[treated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="80" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[branch_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[fund_value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="81" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[scheduled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="82" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[close_text]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[cancelled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="83" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[cancelled_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[person_schedule_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[cancelled_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[started_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[started_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[updated_at]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="84" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[comment_count]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="85" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident].[card_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="145" />
			<AttachedAnnotation Disambiguator="157" />
			<AttachedAnnotation Disambiguator="158" />
			<AttachedAnnotation Disambiguator="160" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_cancelled_incident]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_incident_cancelled_incident]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[incident_type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_incident_date]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_incident_status]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[incident_type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[closed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[treated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_incident_updated_at]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[updated_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident].[idx_incidents_missing]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[incident_type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[closed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[treated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident].[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[incident_comment]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[incident_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[created_at]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="42" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[responsible_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_comment].[archived]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="43" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="134" />
			<AttachedAnnotation Disambiguator="159" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident_comment].[ix_incident_comment]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_comment].[incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_comment].[archived]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[incident_treatment]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[incident_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[person_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[treatment_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[incident_treatment].[new_incident_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="144" />
			<AttachedAnnotation Disambiguator="161" />
			<AttachedAnnotation Disambiguator="162" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident_treatment].[ix_incident_treatment_incident_id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_treatment].[incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[incident_treatment].[ix_incident_treatment_new_incident_id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[incident_treatment].[new_incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[location]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[location].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[location].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[location].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[location].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="31" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="124" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[login_provider]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[login_provider].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[login_provider].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="137" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[members_sumary]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[branch_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[program_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[people]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[financial_issues]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[scheduling_issues]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[comunication_issues]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[week_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[members_sumary].[month_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="118" />
			<AttachedAnnotation Disambiguator="163" />
			<AttachedAnnotation Disambiguator="164" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[month]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[month].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[month].[month]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[month].[year]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[month].[start]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[month].[end]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="112" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[month].[idx_month_dates]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[month].[start]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[month].[end]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[month].[idx_months]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[month].[month]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[month].[year]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[month]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[branch_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[program_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[domain_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[scheduling_status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="47" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[financial_status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="48" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[avatar_img]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[free_financial]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="49" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[free_scheduling]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="50" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[comunication_status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="51" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[comunication_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[admission_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[birth_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_disciple]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="52" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_active_member]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="53" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_leaving]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="54" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_director]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="55" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[baaisi_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[family_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_inactive_member]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="56" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[data_status_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[data_status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="57" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[issues_level]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="58" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[has_birthday_this_month]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="59" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[updated_at]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="60" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_manager]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="61" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_operator]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="62" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[enrollment_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[destiny_family_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[identification]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[identification2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[passport]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[occupation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[passport_expiration_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_interested]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="63" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[next_incident_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_service_provider]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="64" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_associated_with_member]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="65" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[default_page_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person].[is_external_member]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="66" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="139" />
			<AttachedAnnotation Disambiguator="165" />
			<AttachedAnnotation Disambiguator="170" />
			<AttachedAnnotation Disambiguator="171" />
			<AttachedAnnotation Disambiguator="174" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person].[idx_person_active_member]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[is_active_member]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person].[idx_person_branch_program_domain]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[branch_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[program_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[domain_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person].[idx_person_updated_at]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[updated_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person].[ix_person_Interested]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person].[is_interested]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlFullTextIndex" Name="[dbo].[person_alias]" Disambiguator="3">
			<Relationship Name="Catalog">
				<Entry>
					<References Name="[PersonAliasCat]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlFullTextIndexColumnSpecifier">
						<Property Name="LanguageId" Value="2070" />
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
			<Relationship Name="KeyName">
				<Entry>
					<References Name="[dbo].[PK__person_a__3213E83F49303ECE]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_alias]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[alias]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[principal]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="23" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[kungfu_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="24" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[ideograms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_alias].[initials]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="8" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="180" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_alias].[idx_person_alias_principal]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[principal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_alias].[idx_person_kfname]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[kungfu_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_card]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[card_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[position]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[position_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card].[order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="104" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="151" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_card_position]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card_position].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card_position].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card_position].[hierarchical]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="37" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_card_position].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="38" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="126" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_comment]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[responsible_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[created_at]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="74" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[pinned]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="75" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_comment].[archived]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="76" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="142" />
			<AttachedAnnotation Disambiguator="166" />
			<AttachedAnnotation Disambiguator="167" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_comment].[idx_person_comment_archived]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[archived]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_comment].[idx_person_comment_date]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Property Name="IsAscending" Value="False" />
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[created_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_comment].[idx_person_comment_person]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_comment].[idx_person_comment_pinned]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[pinned]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Property Name="IsAscending" Value="False" />
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[created_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_comment].[archived]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_contact]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[contact_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[contact]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[details]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[principal]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="44" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_contact].[removed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="45" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="135" />
			<AttachedAnnotation Disambiguator="168" />
			<AttachedAnnotation Disambiguator="169" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_contact].[idx_person_contact_person]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_contact].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_contact].[idx_person_contact_principal_person]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_contact].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_contact].[principal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_contact].[idx_person_contact_removed]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_contact].[removed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_incident]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_incident].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_incident].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_incident].[incident_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_incident].[participation_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_incident].[closed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="113" />
			<AttachedAnnotation Disambiguator="172" />
			<AttachedAnnotation Disambiguator="173" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_incident].[idx_person_incident]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_incident].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_incident].[incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_incident].[ix_person_incident]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_incident].[incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_relationship]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_relationship].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_relationship].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_relationship].[person2_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_relationship].[relationship_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="119" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_role]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_role].[role_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_role].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="175" />
			<AttachedAnnotation Disambiguator="176" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_role].[idx_person_role_person]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_role].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_role].[uk_person_role]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_role].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_role].[role_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[person_role].[UK_Role_User]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_role].[role_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_role].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[person_schedule]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[week_day]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[start_hour]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[start_minute]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[schedule_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[month_day]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[end_hour]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[end_minute]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[recurrence_type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[start_date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[end_date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[number_of_incidents]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="12" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[confirmed_incidents]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[incident_type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[cancelled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[cancelled_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[cancelled_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[person_schedule].[branch_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="115" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__person_a__3213E83F49303ECE]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[person_alias].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="180" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[program]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[program].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[program].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[program].[long_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="121" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[recurrence_type]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[recurrence_type].[id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[recurrence_type].[description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[recurrence_type].[active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="46" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="138" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RegisterContactForIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
begin       
 declare @person int      
      
 update incident set treated = 1 where id = @id         
      
 if(exists(select 1 from incident_treatment where incident_id = @id)) 
	return 

 insert into incident_treatment(person_id, treatment_type, [description], incident_id)    
 values (    
  11, 2, @contact, @id   
 )   
    
 select @person = pic.person_id    
 from incident i    
  join  person_incident pic on pic.incident_id = i.id    
 where i.id = @id         
    
 exec CheckPeopleStatus @person      
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterContactForIncident].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[treatment_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterContactForIncident].[@contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterContactForIncident].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterContactForIncident].[@contact]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="642" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure RegisterContactForIncident(@id int, @contact varchar(max))      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RegisterMoment]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	insert into incident(
		responsible_id, created_on, [date],
		incident_type, closed, branch_id, 
		[description]
	) values (
		11, getdate(), cast(getdate() as date), 2, 1, 4, @title
	)	 

	insert into person_incident(person_id, incident_id, participation_type) 
		select item, @@IDENTITY, 2
		from dbo.Split(@participants, ',') 		

	if(@fund_value > 0)
	begin 
		insert into incident(responsible_id, created_on, [date], incident_type, closed, branch_id, fund_value)
		values (11, getdate(), cast(getdate() as date), 3, 0, 4, @fund_value)
	end

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[created_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[description]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterMoment].[@title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterMoment].[@participants]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterMoment].[@fund_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[fund_value]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterMoment].[@title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterMoment].[@participants]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterMoment].[@fund_value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="697" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[RegisterMoment](@title varchar(300), &#xD;&#xA;@participants varchar(max), @fund_value decimal(12,2))&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RegisterNewIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[               
begin              
      
 declare @people_incidents table(person_id int)      
              
 if(@branch is null)        
 begin         
  select top 1 @branch = branch_id         
  from person p        
  join dbo.Split(@people, ',') sp on sp.Item = p.id          
 end        
        
 if(len(isnull(@people, '')) > 0)            
 begin            
  insert into @people_incidents(person_id)              
  select p.Item      
  from dbo.Split(@people, ',') p                 
 end            
      
 if(len(isnull(@new_people, '')) > 0)            
 begin            
            
  select distinct ltrim(rtrim(item)) [name]            
  into #new_people            
  from dbo.Split(@new_people, ',')            
            
  while(exists(select 1 from #new_people))            
  begin            
   declare @name varchar(200) = (select top 1 [name] from #new_people)            
            
   insert into person([name], is_interested) values (@name, 1)                   
                
   declare @new_person int = @@identity            
   insert into person_role(person_id, role_id) values (@new_person, 4)  
  
   insert into @people_incidents(person_id) values (@new_person)       
            
   delete from #new_people where [name] = @name                  
  end            
 end          
      
  while exists(select 1 from @people_incidents)      
  begin       
  declare @person_incident int = (select top 1 person_id from @people_incidents)      
      
  insert into incident(              
   responsible_id, incident_type, [date], branch_id, [description], [value],               
   closed, closed_by,
   closed_on, 
   scheduled              
  ) values (              
   11, @type, @date, @branch, @description, @value,              
   @register_closed, @user_id, 
   case when @register_closed = 1 then dbo.getCurrentDateTime() end,   
   cast((case when @date < dbo.getCurrentDateTime() then 1 else 0 end) as bit)                      
  )              
               
  declare @incident int = @@identity              
      
  insert into person_incident(person_id, participation_type, incident_id)             
   values (@person_incident, 1, @incident)            
      
  delete from @people_incidents where person_id = @person_incident      
 end                          
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[#new_people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[#new_people].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@people_incidents].[person_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@people_incidents].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@new_people]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[Item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[#new_people].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[scheduled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@register_closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident].[@user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[RegisterNewIncident].[@people_incidents]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[RegisterNewIncident].[@people_incidents].[person_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[RegisterNewIncident].[#new_people]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[RegisterNewIncident].[#new_people].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@people]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@branch]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@value]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@description]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@new_people]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@register_closed]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewIncident].[@user_id]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2745" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[RegisterNewIncident](              &#xD;&#xA; @type int, @people varchar(max), @date datetime, @branch int,              &#xD;&#xA; @value decimal(12,2) = null,              &#xD;&#xA; @description varchar(max) = null,            &#xD;&#xA; @new_people varchar(max) = null,&#xD;&#xA; @register_closed bit = 0,&#xD;&#xA; @user_id int = null            &#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RegisterNewPerson]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin   
 declare @current_date datetime = dbo.getCurrentDateTime()  
  
 insert into person([name], birth_date, identification, identification2, occupation, branch_id)   
 values (@name, @birth_date, @identification, @identification2, @occupation, @branch_id)                     
                  
 declare @new_person int = @@identity              
     
    -- initial contact  
 exec RegisterNewIncident 5, @new_person, @current_date, @branch_id, null, @initial_contact, null, 1, @user_id  
  
 exec AddPersonRole @new_person, @role_id     
     
 if(@comment is not null and len(@comment) > 0)
	exec SavePersonComment @new_person, @comment, @user_id  
  
 exec CheckPeopleStatus @new_person  
  
 -- next incident 
 if(@next_incident_type is not null and @next_incident_type > 0) 
	exec RegisterNewIncident @next_incident_type, @new_person, @next_incident_date, @branch_id, null, @next_incident_description, null, 0, @user_id  
   
	select * from vwPerson where id = @new_person
	for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[occupation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@identification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@identification2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@occupation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@initial_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddPersonRole]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonComment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@next_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@next_incident_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RegisterNewPerson].[@next_incident_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@role_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@branch_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@birth_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@identification]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@identification2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@occupation]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@next_incident_type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@next_incident_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@next_incident_description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@initial_contact]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RegisterNewPerson].[@user_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1521" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure RegisterNewPerson(  &#xD;&#xA; @role_id int,   &#xD;&#xA; @name varchar(200),            &#xD;&#xA; @branch_id int,       &#xD;&#xA; @birth_date date,                              &#xD;&#xA; @identification varchar(50),    &#xD;&#xA; @identification2 varchar(50),     &#xD;&#xA; @occupation varchar(100),            &#xD;&#xA; @next_incident_type int,  &#xD;&#xA; @next_incident_date datetime,  &#xD;&#xA; @next_incident_description nvarchar(max),  &#xD;&#xA; @initial_contact varchar(max),  &#xD;&#xA; @comment varchar(max),  &#xD;&#xA; @user_id int               &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RemoveIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[     
begin     
 select person_id    
 into #person    
 from person_incident pic    
 where incident_id = @id    

 update i set i.cancelled = 1, i.cancelled_on = dbo.getCurrentDateTime()
 from incident i where id = @id    
     
 while(exists(select 1 from #person))    
 begin    
  declare @person_id int = (select top 1 person_id from #person)    
    
  exec CheckPeopleStatus @person_id   
    
  delete from  #person where person_id = @person_id  
 end     
     
 drop table #person  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveIncident].[#person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveIncident].[#person].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveIncident].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemoveIncident].[#person].[person_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[RemoveIncident].[#person]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[RemoveIncident].[#person].[person_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[person_incident].[person_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemoveIncident].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="576" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="    &#xD;&#xA;CREATE procedure RemoveIncident(@id int)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RemovePersonCard]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 if(exists(select 1 
			from [card] children 
			join person_card pc on pc.card_id = children.id
			where children.parent_id = @card_id and person_id = @person_id))
 begin	
	return
 end

 delete from person_card 
 where person_id = @person_id   
  and card_id = @card_id  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemovePersonCard].[@card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemovePersonCard].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemovePersonCard].[@card_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemovePersonCard].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="387" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure RemovePersonCard(  &#xD;&#xA;@card_id int,   &#xD;&#xA;@person_id int&#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RemovePersonContact]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	update person_contact set removed = 1 where id = @contact_id

	declare @person_id int = (select person_id from person_contact where id = @contact_id)

	exec CheckPeopleStatus @person_Id

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemovePersonContact].[@contact_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemovePersonContact].[@contact_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="277" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[RemovePersonContact](&#xD;&#xA;&#x9;@contact_id int&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RemovePersonRole]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
    
 delete from person_role where role_id = @role_id and person_id = @person_id    
    
 if(@role_id = 6)    
  update person set is_disciple = 0 where id = @person_id    
 else if (@role_id = 5)    
  update person set is_director = 0 where id = @person_id    
 else if (@role_id = 10)    
  update person set is_manager = 0 where id = @person_id   
 else if (@role_id = 1)    
  update person set is_active_member = 0 where id = @person_id    
 else if (@role_id = 3)    
  update person set is_leaving = 0 where id = @person_id     
 else if (@role_id = 4)    
  update person set is_interested = 0 where id = @person_id  
 else if (@role_id = 11)        
  update person set is_operator = 0 where id = @person_id  
 else if (@role_id = 12)        
  update person set is_service_provider = 0 where id = @person_id  
 else if (@role_id = 13)        
  update person set is_associated_with_member = 0 where id = @person_id  
    
 exec CheckPeopleStatus @person_id    
    
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemovePersonRole].[@role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RemovePersonRole].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemovePersonRole].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RemovePersonRole].[@role_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1102" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[RemovePersonRole](@person_id int, @role_id int)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ReopenIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[        
begin         	  
	update i set i.closed = 0,         
		i.closed_on = null
	from incident i      
	where id = @id        
        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ReopenIncident].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ReopenIncident].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="211" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[ReopenIncident](@id int)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[RescheduleIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[        
begin         
 declare @person int     
        
 update incident set treated = 1 where id = @id
 
 if(exists(select 1 from incident_treatment where incident_id = @id)) 
	return         
        
 insert into incident(responsible_id, incident_type, date, closed, branch_id, [description], 
					[value], fund_value, person_schedule_id)        
  select responsible_id, incident_type, cast(@new_date as datetime), closed, branch_id, 
			[description], [value], fund_value,
			person_schedule_id
  from incident        
  where id = @id    
      
 declare @new_incident_id int = @@IDENTITY    
    
 select @person = pic.person_id      
  from incident i      
   join  person_incident pic on pic.incident_id = i.id      
  where i.id = @id      
    
 insert into person_incident(person_id, incident_id, participation_type) values (    
  @person, @new_incident_id, 1    
 )    
      
        
 insert into incident_treatment(person_id, treatment_type, incident_id, new_incident_id, [description])      
 values (      
  11, 1, @id, @new_incident_id, @contact  
 )        
        
 exec CheckPeopleStatus @person        
        
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RescheduleIncident].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[fund_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[person_schedule_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RescheduleIncident].[@new_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[participation_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[treatment_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[new_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RescheduleIncident].[@contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RescheduleIncident].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RescheduleIncident].[@new_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="16" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[RescheduleIncident].[@contact]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1299" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[RescheduleIncident](@id int, @new_date varchar(16), @contact varchar(max) = null)        &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[role]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[role].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[role].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[role].[allowed_for_new_person]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="41" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="133" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SaveCard]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin 

	insert into [card]
	(title, parent_id, due_date, feature_area_id, [description], [leader_id], card_template_id, location_id, abrev)
	values
	(@title, @parent_id, @due_date, 1, @description, @leader_id, @card_template_id, @location_id, @abrev)	

	declare @card_id int = @@IDENTITY

	insert into [card_step]([name], card_id, is_blocking_step, is_closing_step, need_action)
	values ('A fazer', @card_id, 0, 0, 0), ('Fazendo', @card_id, 0, 0, 1), ('Feito', @card_id, 0, 1, 0)


	select * from vwCard
	where id = @card_id
	for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[due_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[feature_area_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[leader_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[card_template_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[location_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@due_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@leader_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@card_template_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@location_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCard].[@abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[is_blocking_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[is_closing_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[need_action]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@parent_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@due_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@card_template_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@location_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@abrev]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCard].[@leader_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="785" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[SaveCard](&#xD;&#xA;&#x9;@title nvarchar(500),&#xD;&#xA;&#x9;@parent_id int, &#xD;&#xA;&#x9;@due_date datetime,&#xD;&#xA;&#x9;@description nvarchar(max),&#xD;&#xA;&#x9;@card_template_id int,&#xD;&#xA;&#x9;@location_id int,&#xD;&#xA;&#x9;@abrev nvarchar(15),&#xD;&#xA;&#x9;@leader_id int&#xD;&#xA;)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SaveCardOrder]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	update [card] set [order] = @order where id = @card_id
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCardOrder].[@order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCardOrder].[@card_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCardOrder].[@card_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCardOrder].[@order]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="129" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure SaveCardOrder(@card_id int, @order int)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SaveCardStep]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin
	update [card] set current_step_id = @step_id where id = @card_id

	select * from vwCard where id = @card_id
	for json path

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[current_step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCardStep].[@step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveCardStep].[@card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwCard].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCardStep].[@card_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveCardStep].[@step_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="203" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure SaveCardStep(@card_id int, @step_id int)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SaveIncidentComment]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 insert into incident_comment(incident_id, comment, responsible_id, created_at)   
 values (@incident_id, @comment, @responsible, dbo.getCurrentDateTime())  
  
 exec UpdateIncidentCommentCount @incident_id  
  
 select * 
 from vwIncident 
 where id = @incident_id
 for json path 

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[created_at]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveIncidentComment].[@incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveIncidentComment].[@comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveIncidentComment].[@responsible]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateIncidentCommentCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveIncidentComment].[@incident_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveIncidentComment].[@comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SaveIncidentComment].[@responsible]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="448" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[SaveIncidentComment](  &#xD;&#xA; @incident_id int,  &#xD;&#xA; @comment nvarchar(max),  &#xD;&#xA; @responsible int  = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SavePersonCard]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
  
 if(not exists(select 1 from person_card where card_id = @card_id and person_id = @person_id))
 begin
	insert into person_card(person_id, card_id, position, [order])
	values (@person_id, @card_id, 4, (select max([order]) + 1 from person_card where card_id = @card_id))

	return
 end

 update person_card set   
  position = @position_id,  
  position_description = @position_description,  
  [order] = @order  
 where person_id = @person_id   
  and card_id = @card_id  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonCard].[@card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonCard].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonCard].[@position_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonCard].[@position_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonCard].[@order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonCard].[@card_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonCard].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonCard].[@position_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonCard].[@position_description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonCard].[@order]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="664" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure SavePersonCard(  &#xD;&#xA;@card_id int,   &#xD;&#xA;@person_id int,   &#xD;&#xA;@position_id int,  &#xD;&#xA;@position_description varchar(100),  &#xD;&#xA;@order int  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SavePersonComment]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	insert into person_comment(person_id, comment, responsible_id, created_at)	
	values (@person_id, @comment, @responsible, dbo.getCurrentDateTime())

end

--GetCommentsAboutPerson 2]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[responsible_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[created_at]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonComment].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonComment].[@comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonComment].[@responsible]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonComment].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonComment].[@comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonComment].[@responsible]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="317" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[SavePersonComment](&#xD;&#xA;&#x9;@person_id int,&#xD;&#xA;&#x9;@comment nvarchar(max),&#xD;&#xA;&#x9;@responsible int  = null&#xD;&#xA;)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SavePersonContact]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin    
    
 insert into person_contact(person_id, contact, contact_type, details, principal)    
 values (@person_id, @contact, @contact_type, @details, @principal)    
    
 exec CheckPeopleStatus @person_Id

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[contact_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[details]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonContact].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonContact].[@contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonContact].[@contact_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonContact].[@details]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonContact].[@principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonContact].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonContact].[@contact_type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonContact].[@contact]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonContact].[@details]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonContact].[@principal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="402" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure SavePersonContact(    &#xD;&#xA; @person_id int,    &#xD;&#xA; @contact_type int,    &#xD;&#xA; @contact varchar(250),    &#xD;&#xA; @details varchar(max),  &#xD;&#xA; @principal bit  &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SavePersonScheduleAndGenerateIncidents]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
begin     
    
 insert into person_schedule(    
  person_id, week_day, start_hour, start_minute, active,     
  incident_type, month_day, [value], end_hour, end_minute,    
  recurrence_type, [start_date], end_date, [description],    
  number_of_incidents, branch_id    
 ) values (    
  @person_id, datepart(WEEKDAY, @start_date), @start_hour, @start_minute, 1,    
  @incident_type, datepart(day, @start_date), @value, @end_hour, @end_minute,    
  @recurrence_type, @start_date, @end_date, @description,    
  @number_of_incidents, @branch_id    
 )      
    
 declare @schedule_id int = @@identity    
    
 if(@end_date is null)    
  update person_schedule set end_date = dbo.findEndDate(@schedule_id)    
  where id = @schedule_id    
    
 if(@number_of_incidents is null)    
  update person_schedule set number_of_incidents = dbo.findNumberOfEvents(@schedule_id)    
  where id = @schedule_id    
    
 if(@recurrence_type = 4)    
 begin    
  exec GenerateMonthlyIncidents @schedule_id     
 end    
 else if(@recurrence_type = 2 or @recurrence_type = 3)    
 begin    
  exec GenerateWeeklyIncidents @schedule_id    
 end    
  
 exec CheckPeopleStatus @person_id  
      
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[week_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[month_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[number_of_incidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_hour]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@recurrence_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@number_of_incidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[findEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_schedule].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[findNumberOfEvents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateMonthlyIncidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateWeeklyIncidents]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@person_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@branch_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@incident_type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@recurrence_type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_hour]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@start_minute]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_hour]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@end_minute]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@number_of_incidents]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SavePersonScheduleAndGenerateIncidents].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1635" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure SavePersonScheduleAndGenerateIncidents(    &#xD;&#xA; @person_id int,    &#xD;&#xA; @branch_id int,    &#xD;&#xA; @incident_type int,    &#xD;&#xA; @recurrence_type int,    &#xD;&#xA; @start_date date,    &#xD;&#xA; @start_hour int,    &#xD;&#xA; @start_minute int,    &#xD;&#xA; @end_date date,    &#xD;&#xA; @end_hour int,    &#xD;&#xA; @end_minute int,    &#xD;&#xA; @number_of_incidents int,    &#xD;&#xA; @description nvarchar(max),    &#xD;&#xA; @value decimal(12,2)    &#xD;&#xA;)    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[Split]">
			<Property Name="ReturnTableVariable" Value="@Items" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[@Delimiter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Split].[@InputString]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Split].[Item]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="8000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
BEGIN
      IF @Delimiter = ' '
      BEGIN
            SET @Delimiter = ','
            SET @InputString = REPLACE(@InputString, ' ', @Delimiter)
      END

      IF (@Delimiter IS NULL OR @Delimiter = '')
            SET @Delimiter = ','

--INSERT INTO @Items VALUES (@Delimiter) -- Diagnostic
--INSERT INTO @Items VALUES (@InputString) -- Diagnostic

      DECLARE @Item           VARCHAR(8000)
      DECLARE @ItemList       VARCHAR(8000)
      DECLARE @DelimIndex     INT

      SET @ItemList = @InputString
      SET @DelimIndex = CHARINDEX(@Delimiter, @ItemList, 0)
      WHILE (@DelimIndex != 0)
      BEGIN
            SET @Item = SUBSTRING(@ItemList, 0, @DelimIndex)
            INSERT INTO @Items VALUES (@Item)

            -- Set @ItemList = @ItemList minus one less item
            SET @ItemList = SUBSTRING(@ItemList, @DelimIndex+1, LEN(@ItemList)-@DelimIndex)
            SET @DelimIndex = CHARINDEX(@Delimiter, @ItemList, 0)
      END -- End WHILE

      IF @Item IS NOT NULL -- At least one delimiter was encountered in @InputString
      BEGIN
            SET @Item = @ItemList
            INSERT INTO @Items VALUES (@Item)
      END

      -- No delimiters were encountered in @InputString, so just return @InputString
      ELSE INSERT INTO @Items VALUES (@InputString)

      RETURN

END -- End Function]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1579" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION Split (&#xD;&#xA;      @InputString                  VARCHAR(max),&#xD;&#xA;      @Delimiter                    VARCHAR(50)&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;RETURNS @Items TABLE (&#xD;&#xA;      Item                          VARCHAR(8000)&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[Split].[@InputString]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[Split].[@Delimiter]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[StartIncident]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[   
begin  
  
 update incident set started_on = dbo.getCurrentDateTime(), 
	started_by = @started_by 
 where id = @incident  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[started_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[started_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StartIncident].[@started_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StartIncident].[@incident]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[StartIncident].[@incident]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[StartIncident].[@started_by]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="228" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure StartIncident(  &#xD;&#xA; @incident int,  &#xD;&#xA; @started_by int = null  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[TogleIncidentCommentArchived]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	update incident_comment set archived = case when archived = 1 then 0 else 1 end
	where id = @comment_id

	declare @incident_id int = (select incident_id from incident_comment where id = @comment_id)

	exec UpdateIncidentCommentCount @incident_id

	select * 
	from vwIncident 
	where id = @incident_id
	for json path 

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TogleIncidentCommentArchived].[@comment_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateIncidentCommentCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwIncident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[TogleIncidentCommentArchived].[@comment_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="425" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE procedure [dbo].[TogleIncidentCommentArchived](&#xD;&#xA;&#x9;@comment_id int&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ToglePersonCommentArchived]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	update person_comment set archived = case when archived = 1 then 0 else 1 end
	where id = @comment_id

	

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ToglePersonCommentArchived].[@comment_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ToglePersonCommentArchived].[@comment_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="204" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE procedure [dbo].[ToglePersonCommentArchived](&#xD;&#xA;&#x9;@comment_id int&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[ToglePersonCommentPinned]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[
begin

	update person_comment set pinned = case when pinned = 1 then 0 else 1 end
	where id = @comment_id

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[person_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[pinned]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_comment].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ToglePersonCommentPinned].[@comment_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[ToglePersonCommentPinned].[@comment_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="183" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure ToglePersonCommentPinned(&#xD;&#xA;&#x9;@comment_id int&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateIncidentCommentCount]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[  
begin  
   
 update i set comment_count = (  
  select count(1) from incident_comment ic   
  where incident_id = @incident_id  
   and archived = 0  
 )  
 from incident i  
 where i.id = @incident_id  
  
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[comment_count]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateIncidentCommentCount].[@incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_comment].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateIncidentCommentCount].[@incident_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="304" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="  &#xD;&#xA;CREATE procedure UpdateIncidentCommentCount(  &#xD;&#xA; @incident_id int  &#xD;&#xA;)  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdatePersonData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                
begin                 
 if(@kf_name is not null)                
 begin                
  delete from person_alias where person_id = @id and kungfu_name = 1                      
                
  insert into person_alias(person_id, alias, kungfu_name, ideograms)                      
   values(@id, @kf_name, 1, @kf_name_ideograms)                      
 end                
                
 update person set [name] = @name,                
  birth_date = @birth_date,          
  admission_date = @admission_date,                
  baaisi_date = @baaisi_date,          
  family_id = @family_id, branch_id = @branch_id,             
  program_id = @program_id, domain_id = @domain_id,    
  enrollment_date = @enrollment_date,  
  identification = @identification,   
  identification2 = @identification2,   
  occupation = @occupation,  
  passport = @passport,  
  passport_expiration_date = @passport_expiration_date,
  destiny_family_id = @destiny_family_id
 where id = @id              
         
 exec CheckPeopleStatus @id        
      
 exec GetPersonData @id      
                 
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@kf_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[baaisi_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@baaisi_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[enrollment_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@enrollment_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@identification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@identification2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[occupation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@occupation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[passport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@passport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[passport_expiration_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@passport_expiration_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[destiny_family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdatePersonData].[@destiny_family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckPeopleStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPersonData]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@birth_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@admission_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@enrollment_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@baaisi_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@kf_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@identification]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@identification2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@passport]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@passport_expiration_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@occupation]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@kf_name_ideograms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@family_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@branch_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@program_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@domain_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdatePersonData].[@destiny_family_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1802" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [dbo].[UpdatePersonData](                &#xD;&#xA; @id int,                &#xD;&#xA; @name varchar(200),                &#xD;&#xA; @birth_date date,                &#xD;&#xA; @admission_date date,                &#xD;&#xA; @enrollment_date date,                &#xD;&#xA; @baaisi_date date,                &#xD;&#xA; @kf_name varchar(200),  &#xD;&#xA; @identification varchar(50),  &#xD;&#xA; @identification2 varchar(50),  &#xD;&#xA; @passport varchar(50),  &#xD;&#xA; @passport_expiration_date date,  &#xD;&#xA; @occupation varchar(100),  &#xD;&#xA; @kf_name_ideograms NVarchar(200),              &#xD;&#xA; @family_id int,            &#xD;&#xA; @branch_id int,            &#xD;&#xA; @program_id int,            &#xD;&#xA; @domain_id int,&#xD;&#xA; @destiny_family_id int&#xD;&#xA;) as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[url]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[url].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[url].[name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[url].[url]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="350" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[url].[require_parameter]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="77" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="143" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[user]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[login_provider_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[person_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[default_branch_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user].[token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="40" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="132" />
			<AttachedAnnotation Disambiguator="177" />
			<AttachedAnnotation Disambiguator="178" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[user].[uk_user_email]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user].[email]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user].[login_provider_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[user_login]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_login].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_login].[provider_key]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_login].[user_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_login].[login_data]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="150" />
			<AttachedAnnotation Disambiguator="179" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwCard]">
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[          
select c.id, c.title, c.due_date, left(CONVERT(VARCHAR, c.due_date, 103), 5) due_date_formated, c.created_on,           
 c.leader_id, c.parent_id, c.archived, c.cancelled,           
 c.location_id, c.abrev, c.[order], c.current_step_id,      
 c.card_template_id template_id, ct.is_task,    
 (select l.id, l.name, l.avatar_img from dbo.vwPerson l where l.id = c.leader_id for json path) leaders,  
 (select pc.person_id, p.name, p.avatar_img, p.kf_name_ideograms, p.contacts,  
 pc.[order],                   
 isnull(pc.position_description, pcp.name) position_description,                   
 pc.position,   
 cast((case when               
 exists(select 1               
  from dbo.[card] children               
  join dbo.person_card pc on pc.card_id = children.id              
  where children.parent_id = c.id and person_id = p.id)              
  then 1 else 0 end) as bit) has_tasks           
  from dbo.person_card pc                  
   join dbo.vwPerson p on pc.person_id = p.id                  
   join dbo.person_card_position pcp on pcp.id = pc.position                  
  where pc.card_id = c.id                  
  order by pc.[order]                
  for json path                  
 ) people,   
 (            
  select cs.id, cs.name, cs.is_blocking_step,      
   (      
    select count(1)  
  from dbo.[card]             
     where parent_id = c.id        
  and current_step_id = cs.id        
  and cancelled = 0    
  and archived = 0                              
   ) childrens         
  from dbo.card_step cs             
  where cs.card_id = c.id      
  and archived = 0              
  order by [order]  
  for json path        
 ) steps_description                         
from dbo.[card] c (nolock)       
 join dbo.card_template ct (nolock) on ct.id = c.card_template_id]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[title]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[title]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[due_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[due_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[due_date_formated]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[created_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[created_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[leader_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[leader_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[parent_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[parent_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[archived]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[archived]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[cancelled]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[location_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[location_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[abrev]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[abrev]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[order]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[current_step_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[current_step_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[template_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card].[card_template_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[is_task]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[card_template].[is_task]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[leaders]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[people]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwCard].[steps_description]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_template]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_template].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[card_template_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[due_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[created_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[leader_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[location_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[current_step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[card_template_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_template].[is_task]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[leader_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[kf_name_ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[contacts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[position_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card_position].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPerson].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_card].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[is_blocking_step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[current_step_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[card_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[archived]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[card_step].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1934" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE view vwCard          &#xD;&#xA;with schemabinding          &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwFamily]">
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
 select family.id id, pa.alias [name], 'F' + dbo.GetAbreviation(pa.alias) abrev, 'Familía ' + pa.alias full_name  
  from person family     
   join person_role pr on pr.person_id = family.id      
   join person_alias pa on pa.person_id = family.id      
  where pr.role_id = 9    
   and pa.kungfu_name = 1]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwFamily].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwFamily].[name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwFamily].[abrev]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwFamily].[full_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAbreviation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_role].[role_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="347" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view vwFamily    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwIncident]">
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                    
 select i.id, LEFT(CONVERT(VARCHAR(15), i.[date], 103), 5) small_date,                                                                                           
  cast(i.[date] as date) date,                                                                
  i.[date] full_date,                                                                                      
  convert(char(5), i.[date], 108) start_hour,                                                                                      
  convert(char(10), i.[started_on], 103) started_on_date,                                                                                      
  convert(char(5), i.[started_on], 108) started_on_hour,                                                                                      
  convert(char(10), i.[closed_on], 103) closed_on_date,                                                                                      
  convert(char(5), i.[closed_on], 108) closed_on_hour,                
  i.closed, i.closed_on, i.treated, isnull(parent_eit.abrev, '') + eit.abrev abrev,               
  isnull(pa.alias, p.name) [person], pic.person_id, i.[description] title, eit.id [type],                                                                                     
  i.[value],                                                                                      
   case when eit.show_hour_in_diary = 1  then                                       
  convert(char(5), i.[date], 108)                                                                                    
    when i.incident_type = 3 then cast(i.fund_value as varchar(10))                                                                                     
    else  ''                     
   end short_description,                                                                                    
   case when i.incident_type = 2 then i.[description] else isnull(parent_eit.abrev, '') + eit.[Abrev] end                                                                                    
   + ' - ' + isnull(pa.alias, p.name) + ' - ' + LEFT(CONVERT(VARCHAR(15), i.[date], 103), 5) + ' '                                                                                     
   + case when i.incident_type in (1) or i.incident_type >= 10 and i.incident_type <= 22 then                                                                 
  convert(char(5), i.[date], 108)                                                                                    
    when i.incident_type = 3 then cast(i.fund_value as varchar(10))                                                                                     
    when i.incident_type in (4, 24) then ': ' + cast(i.value as varchar(10))                                              
    else ''                                                                                    
   end long_description,                                                                                      
   cast((case when i.[date] < dbo.getCurrentDateTime() then 1 else 0 end) as bit) past,                                                                 
   it.[description] treatment_text,                                          
   LEFT(CONVERT(VARCHAR(15), new_schedule.[date], 103), 5) new_schedule_small_date,                                                                          
   cast(new_schedule.[date] as date) new_schedule_date,                                                                                      
   convert(char(5), new_schedule.[date], 108) new_schedule_hour,                                                     
   eit.obrigatory, eit.need_description_for_closing,                 
   eit.need_to_be_started, i.close_text, i.cancelled, i.branch_id, b.initials branch_initials,            
   eit.need_start_hour_minute, p.admission_date, i.updated_at,  
   i.comment_count  
  from dbo.incident i    (nolock)                                   
   join dbo.person_incident pic (nolock) on pic.incident_id = i.id            
   join dbo.person p (nolock) on p.id = pic.person_id             
   join dbo.branch b (nolock) on b.id = i.branch_id                                  
   join dbo.enum_incident_type eit (nolock) on eit.id = i.incident_type                  
   left join dbo.enum_incident_type parent_eit (nolock) on parent_eit.id = eit.parent_id                       
   left join dbo.person_alias pa (nolock) on pa.person_id = p.id and pa.principal = 1                                                                           
   left join dbo.incident_treatment it (nolock) on it.incident_id = i.id                                                            
   left join dbo.incident new_schedule (nolock) on it.new_incident_id = new_schedule.id]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[small_date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[full_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[start_hour]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[started_on_date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[started_on_hour]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[closed_on_date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[closed_on_hour]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[closed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[closed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[closed_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[closed_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[treated]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[treated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[abrev]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[person]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[person_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_incident].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[title]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[type]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[value]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[short_description]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[long_description]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[past]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[treatment_text]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident_treatment].[description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[new_schedule_small_date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[new_schedule_date]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[new_schedule_hour]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[obrigatory]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[obrigatory]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[need_description_for_closing]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_description_for_closing]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[need_to_be_started]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[close_text]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[close_text]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[cancelled]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[cancelled]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[branch_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[branch_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[branch_initials]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[branch].[initials]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[need_start_hour_minute]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_start_hour_minute]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[admission_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[admission_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[updated_at]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[updated_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncident].[comment_count]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[incident].[comment_count]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[new_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[started_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[closed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[treated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_incident].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[show_hour_in_diary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[fund_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[getCurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident_treatment].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[obrigatory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_description_for_closing]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[close_text]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[cancelled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_start_hour_minute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[updated_at]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[incident].[comment_count]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="20" />
				<Property Name="Length" Value="4965" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="                  &#xD;&#xA;CREATE view [dbo].[vwIncident]          &#xD;&#xA;with schemabinding                  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwIncidentType]">
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[      
 select id, [name], abrev, need_description, obrigatory,                       
  need_value, automatically_generated, [order], need_to_be_started,  
  allowed_for_new_person, 
   (select id, [name], it.abrev + ch.abrev abrev, need_description,                                                           
    obrigatory, need_value, parent_id,                       
    it.abrev parent_abrev, automatically_generated , need_to_be_started,
	allowed_for_new_person                                                          
    from enum_incident_type ch                                                          
    where ch.parent_id = it.id                                                          
  and active = 1                  
  order by [order]                                                  
    for json path                                                          
   ) childrens                                                          
   from enum_incident_type it                                                          
   where parent_id is null      
  and active = 1]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[abrev]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[abrev]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[need_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[obrigatory]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[obrigatory]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[need_value]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[automatically_generated]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[automatically_generated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[order]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[need_to_be_started]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[allowed_for_new_person]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_incident_type].[allowed_for_new_person]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwIncidentType].[childrens]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[obrigatory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[automatically_generated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[allowed_for_new_person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[obrigatory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[automatically_generated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[need_to_be_started]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[allowed_for_new_person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_incident_type].[active]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1148" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view vwIncidentType      &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwPerson]">
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[                                      
 select p.id, b.[abrev] branch_abrev, b.id branch_id,                                                                                        
   d.abrev [domain], d.[order] domain_order, d.id [domain_id],                                                                                                        
   isnull(pa.alias, p.[name]) [name],                                       
   p.financial_status, p.scheduling_status,                                                                                                      
   pfs.[description] [financial_description],                                                                                                      
   pss.[description] [scheduling_description],                                                                                                    
   avatar_img, d.program_id,                                                                                                
   comunication_status, comunication_description,                                                                                           
   kfname.alias kf_name, p.admission_date, p.birth_date,                                                        
   kfname.ideograms kf_name_ideograms, b.initials branch_initials,                                              
   paf.initials family_abrev, paf.alias family_name, paf.person_id family_id,                           
   destiny_family.initials destiny_family_abrev, destiny_family.alias destiny_family_name, destiny_family.person_id destiny_family_id,                           
   is_active_member, is_disciple, is_leaving, is_inactive_member,                                      
   b.active branch_active, p.data_status, p.data_status_description,                                  
   p.issues_level, p.has_birthday_this_month,                            
   p.baaisi_date, CONVERT (VARCHAR, p.baaisi_date, 103) baaisi_date_br,                                          
   CONVERT (VARCHAR, p.birth_date, 103) birth_date_br,                                          
   CONVERT (VARCHAR, p.admission_date, 103) admission_date_br,                            
   pr.long_name [program_name], d.long_name domain_name, p.updated_at,                  
   p.enrollment_date,                  
   CONVERT (VARCHAR, p.enrollment_date, 103) enrollment_date_br,              
   CONVERT (VARCHAR, p.passport_expiration_date, 103) passport_expiration_date_br,              
   p.identification, p.identification2, p.passport, p.occupation,              
   p.passport_expiration_date, CAST(DATEDIFF(hh, [birth_date], GETDATE()) / 8766 AS int) age,            
   p.is_interested, p.next_incident_id, p.is_service_provider,      
   p.is_operator, p.is_manager, p.is_director, p.is_associated_with_member, p.is_external_member,  
   (select contact, principal, details, icon, base_url   
  from dbo.vwPersonContact pc  
  where pc.person_id = p.id  
   and removed = 0    
    for json path   
   ) contacts                                                       
 from dbo.person p                                                                       
  left join dbo.program pr   on pr.id = p.program_id                                                                                                 
  left join dbo.domain d   on d.id = p.domain_id                                                                                       
  left join dbo.branch b   on b.id = p.branch_id                                                              
  left join dbo.enum_person_financial_status pfs   on pfs.id = p.financial_status                                                                                                      
  left join dbo.enum_person_scheduling_status pss   on pss.id = p.scheduling_status                                                              
  left join dbo.person_alias pa   on p.id = pa.person_id and pa.principal = 1                                                                                                          
  left join dbo.person_alias kfname   on p.id = kfname.person_id and kfname.kungfu_name = 1                                                                                                             
  left join dbo.person_alias paf   on paf.person_id = p.family_id and paf.kungfu_name = 1                 
  left join dbo.person_alias destiny_family   on destiny_family.person_id = p.destiny_family_id and destiny_family.kungfu_name = 1]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[branch_abrev]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[branch].[abrev]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[branch_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[branch].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[domain]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[domain].[abrev]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[domain_order]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[domain].[order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[domain_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[domain].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[name]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[financial_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[financial_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[scheduling_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[scheduling_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[financial_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_person_financial_status].[description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[scheduling_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_person_scheduling_status].[description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[avatar_img]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[avatar_img]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[program_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[domain].[program_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[comunication_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[comunication_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[comunication_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[comunication_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[kf_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[admission_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[admission_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[birth_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[birth_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[kf_name_ideograms]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[ideograms]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[branch_initials]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[branch].[initials]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[family_abrev]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[initials]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[family_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[family_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[destiny_family_abrev]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[initials]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[destiny_family_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[destiny_family_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_alias].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_active_member]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_active_member]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_disciple]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_disciple]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_leaving]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_leaving]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_inactive_member]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_inactive_member]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[branch_active]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[branch].[active]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[data_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[data_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[data_status_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[data_status_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[issues_level]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[issues_level]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[has_birthday_this_month]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[has_birthday_this_month]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[baaisi_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[baaisi_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[baaisi_date_br]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[birth_date_br]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[admission_date_br]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[program_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[program].[long_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[domain_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[domain].[long_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[updated_at]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[updated_at]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[enrollment_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[enrollment_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[enrollment_date_br]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[passport_expiration_date_br]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[identification]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[identification]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[identification2]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[identification2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[passport]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[passport]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[occupation]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[occupation]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[passport_expiration_date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[passport_expiration_date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[age]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_interested]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_interested]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[next_incident_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[next_incident_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_service_provider]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_service_provider]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_operator]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_operator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_manager]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_manager]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_director]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_director]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_associated_with_member]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_associated_with_member]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[is_external_member]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_external_member]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPerson].[contacts]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[domain_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[destiny_family_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[kungfu_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[abrev]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[scheduling_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_financial_status].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_person_scheduling_status].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[program_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[admission_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[ideograms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[initials]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_active_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_leaving]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_inactive_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[branch].[active]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[issues_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[has_birthday_this_month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[baaisi_date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[program].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[domain].[long_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[updated_at]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[enrollment_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[passport_expiration_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[identification2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[passport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[occupation]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[birth_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_interested]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[next_incident_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_service_provider]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_associated_with_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_external_member]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[details]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[icon]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[base_url]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[vwPersonContact].[removed]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4696" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view vwPerson                                      &#xD;&#xA; with schemabinding                              &#xD;&#xA; as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwPersonContact]">
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
 select pc.id, pc.contact, pc.details, pc.person_id, pc.principal, pc.removed,   
 epc.[description] contact_type_description, epc.icon, epc.base_url, pc.contact_type       
 from dbo.person_contact pc          
 join dbo.enum_contact_type epc on epc.id = pc.contact_type]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[contact]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[contact]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[details]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[details]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[person_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[principal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[principal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[removed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[removed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[contact_type_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_contact_type].[description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[icon]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_contact_type].[icon]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[base_url]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[enum_contact_type].[base_url]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwPersonContact].[contact_type]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person_contact].[contact_type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[person_contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_contact_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_contact_type].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[contact_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[details]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_contact].[removed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_contact_type].[description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_contact_type].[icon]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[enum_contact_type].[base_url]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="337" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view vwPersonContact    &#xD;&#xA;with schemabinding  &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[vwUser]">
			<Property Name="QueryScript">
				<Value QuotedIdentifiers="True" AnsiNulls="True"><![CDATA[    
select u.id, u.email, u.login_provider_id, u.person_id,     
 u.token, isnull(pa.alias, p.name) [name],    
 p.avatar_img, p.branch_id,     
 p.comunication_status,  p.comunication_description,    
 p.data_status, p.data_status_description,    
 p.financial_status, p.is_director, p.is_disciple,     
 p.is_manager, p.is_operator, u.default_branch_id, 
 p.default_page_id, [page].[name] default_page, [page].[url] as default_page_url     
from [user] u    
 join person p on p.id = u.person_id    
 left join person_alias pa on pa.person_id = p.id and principal = 1 
 left join [url] as [page] on [page].id = p.default_page_id]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[email]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[email]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[login_provider_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[login_provider_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[person_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[person_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[token]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[token]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[name]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[avatar_img]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[avatar_img]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[branch_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[branch_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[comunication_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[comunication_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[comunication_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[comunication_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[data_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[data_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[data_status_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[data_status_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[financial_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[financial_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[is_director]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_director]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[is_disciple]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_disciple]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[is_manager]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_manager]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[is_operator]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[is_operator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[default_branch_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[user].[default_branch_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[default_page_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[person].[default_page_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[default_page]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[url].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[vwUser].[default_page_url]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[url].[url]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[user]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[principal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[url]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[url].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[default_page_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[login_provider_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[person_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person_alias].[alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[avatar_img]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[comunication_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[comunication_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[data_status_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[financial_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_director]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_disciple]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_manager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[person].[is_operator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user].[default_branch_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[url].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[url].[url]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="669" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view vwUser    &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[week]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[week].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[week].[number]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[week].[start]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[week].[end]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="114" />
		</Element>
		<Element Type="SqlFullTextCatalog" Name="[PersonAliasCat]">
			<Property Name="IsAccentSensitive" Value="True" />
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>